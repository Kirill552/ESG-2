# üéØ Backend –∑–∞–¥–∞—á–∏ –¥–ª—è ESG-–õ–∞–π—Ç (—É–ø—Ä–æ—â—ë–Ω–Ω—ã–π MVP)

## üìã –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞
**ESG-–õ–∞–π—Ç** ‚Äî —É–ø—Ä–æ—â—ë–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –ø–æ —É–≥–ª–µ—Ä–æ–¥–Ω–æ–π –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç–∏. –¢–∞—Ä–∏—Ñ–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –Ω–µ—Ç: –¥–æ—Å—Ç—É–ø—ã –≤–∫–ª—é—á–∞—é—Ç—Å—è –≤—Ä—É—á–Ω—É—é –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º. –ù—É–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–ª—é—á–µ–≤—ã–µ backend-–º–æ–¥—É–ª–∏ (–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, OCR, –æ—Ç—á—ë—Ç—ã, –æ—á–µ—Ä–µ–¥–∏, 152-–§–ó) –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å API, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Ç–µ–∫—É—â–µ–º—É –¥–µ–º–æ-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É.

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç—É—Ä
- **Next.js 15 (App Router, TypeScript)** ‚Äî –µ–¥–∏–Ω—ã–π backend/frontend —Å–ª–æ–π.
- **PostgreSQL 16** (—É–¥–∞–ª—ë–Ω–Ω–∞—è –ë–î). DEV-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ: `ssh -i ~/.ssh/esg_vm1 -L 5433:localhost:5432 -o ServerAliveInterval=60 -o ServerAliveCountMax=3 -N novik@176.108.253.195`.
- **Prisma ORM**, **pg-boss** –¥–ª—è –æ—á–µ—Ä–µ–¥–µ–π.
- **NextAuth.js** (VK ID, Magic Link —á–µ—Ä–µ–∑ RUSENDER, Passkey).
- **OCR —Å—Ç–µ–∫**: Tesseract + Yandex Vision + GigaChat.
- **152-–§–ó**: Fernet-—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ, —Ö—Ä–∞–Ω–µ–Ω–∏–µ –ü–î–Ω –≤ –†–§, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π.

## üß≠ –ö–∞—Ä—Ç–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –¥–µ–º–æ UI
- **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**: email + magic link, VK ID, Passkey, –ø–µ—Ä–µ—Ö–æ–¥ –∫ –ø–∞–Ω–µ–ª–∏ –±–µ–∑ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ —Ç–∞—Ä–∏—Ñ–∞.
- **–î–∞—à–±–æ—Ä–¥**: –∫–∞—Ä—Ç–æ—á–∫–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏, –ø–æ—Å–ª–µ–¥–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –∏ –æ—Ç—á—ë—Ç—ã, –ø—Ä–æ–≥—Ä–µ—Å—Å 296-–§–ó.
- **–î–æ–∫—É–º–µ–Ω—Ç—ã**: 150+ –∑–∞–ø–∏—Å–µ–π, —Ñ–∏–ª—å—Ç—Ä—ã –ø–æ —Å—Ç–∞—Ç—É—Å—É/–∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –ø–æ–∏—Å–∫, –ø–∞–≥–∏–Ω–∞—Ü–∏—è, –º–∞—Å—Å–æ–≤—ã–µ –¥–µ–π—Å—Ç–≤–∏—è (—Å–∫–∞—á–∞—Ç—å/—É–¥–∞–ª–∏—Ç—å/–ø–æ–≤—Ç–æ—Ä–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å), –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é (–ø—Ä–æ—Å–º–æ—Ç—Ä/—Å–∫–∞—á–∞—Ç—å/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å/–ø–æ–¥–µ–ª–∏—Ç—å—Å—è/—É–¥–∞–ª–∏—Ç—å), –≤—ã–±–æ—Ä –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Å –æ—à–∏–±–∫–∞–º–∏, –º–æ–¥–∞–ª–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤ —Å –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π —Ñ–æ—Ä–º–∞—Ç–æ–≤.
- **–û—Ç—á—ë—Ç—ã**: —Ç–∞–±–ª–∏—Ü–∞ —Å—Ç–∞—Ç—É—Å–æ–≤ (—á–µ—Ä–Ω–æ–≤–∏–∫/–≥–æ—Ç–æ–≤/–æ—Ç–ø—Ä–∞–≤–ª–µ–Ω/—É—Ç–≤–µ—Ä–∂–¥—ë–Ω), –º–æ–¥–∞–ª–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è, –¥–µ–¥–ª–∞–π–Ω—ã —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏.
- **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞**: KPI, –≥—Ä–∞—Ñ–∏–∫–∏ —Ç—Ä–µ–Ω–¥–æ–≤, —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º, —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –ø—Ä–æ—à–ª—ã–º –ø–µ—Ä–∏–æ–¥–æ–º, –∫–æ–Ω—Ç—Ä–æ–ª—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è 296-–§–ó.
- **–ù–∞—Å—Ç—Ä–æ–π–∫–∏**: –≤–∫–ª–∞–¥–∫–∏ ¬´–ü—Ä–æ—Ñ–∏–ª—å¬ª, ¬´–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è¬ª, ¬´–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è¬ª, ¬´–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å¬ª, ¬´–î–∞–Ω–Ω—ã–µ¬ª. –í–∫–ª—é—á–∞—é—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã–µ –ª–∏—Ü–∞, –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π, 2FA/Passkey/—Ç–∞–π–º–∞—É—Ç —Å–µ—Å—Å–∏–∏, —Å–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤, —ç–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç/–æ–ø–∞—Å–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è.
- **–¢–∞—Ä–∏—Ñ—ã**: –≤–∏—Ç—Ä–∏–Ω–∞ –ø–ª–∞–Ω–æ–≤ –±–µ–∑ –∞–≤—Ç–æ—Å–ø–∏—Å–∞–Ω–∏–π, –∑–∞—è–≤–∫–∞ –Ω–∞ –¥–æ—Å—Ç—É–ø (—Ñ–æ—Ä–º–∞, —Ä—É—á–Ω–æ–µ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–µ, –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ).

---

## 1. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, —Å–µ—Å—Å–∏–∏ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –≤—Ö–æ–¥–∞
- [x] **1.1 –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è NextAuth**
  - ‚úÖ `lib/auth-options.ts` –ø—Ä–∏–≤–µ–¥—ë–Ω –∫ —Å—Ç—Ä–æ–≥–æ–π —Ç–∏–ø–∏–∑–∞—Ü–∏–∏, –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ `lastLoginAt`.
  - ‚úÖ –≠–∫—Å–ø–æ—Ä—Ç —Ö—ç–Ω–¥–ª–µ—Ä–æ–≤ (`app/api/auth/[...nextauth]/route.ts`) –¥–æ–±–∞–≤–ª–µ–Ω, Prisma Adapter —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤—Ä–µ–º—è –≤—Ö–æ–¥–∞.
- [x] **1.2 VK ID**
  - ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω low-code –≤–∏–¥–∂–µ—Ç (UMD SDK 2.6.1, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç VKIDWidget.tsx).
  - ‚úÖ –°–æ–∑–¥–∞–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ `/api/auth/vk/callback` —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π state –∏ –ø–æ–¥–ø–∏—Å–∏.
  - ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ AuthForm.tsx, –∑–∞–º–µ–Ω–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ –Ω–∞ –≤–∏–¥–∂–µ—Ç "3 –≤ 1" (VK/OK/Mail).
  - ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (VKID_APP_ID, VKID_CLIENT_SECRET).
  - ‚ö†Ô∏è  **–¢—Ä–µ–±—É–µ—Ç —Ç—É–Ω–Ω–µ–ª—å –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è** (ngrok/cloudflared) —Ç.–∫. VK –Ω–µ —Ä–∞–∑—Ä–µ—à–∞–µ—Ç localhost:3000.
  - ‚ö†Ô∏è  **–ù—É–∂–µ–Ω —Ä–µ–∞–ª—å–Ω—ã–π CLIENT_SECRET** –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø–æ–¥–ø–∏—Å–∏ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ.
  -  –°–º–æ—Ç—Ä–∏ - https://github.com/VKCOM/vkid-web-sdk
  -  Web SDK: 2.6.1
  -  –ö—Ä–æ–º–µ —Ç–æ–≥–æ, –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –∑–∞–º–µ–Ω–∏—Ç—å –¥–æ–º–µ–Ω—ã –≤–æ –≤—Å–µ—Ö API-–∑–∞–ø—Ä–æ—Å–∞—Ö:
  -  id.vk.ru –≤–º–µ—Å—Ç–æ id.vk.com
  -  oauth.vk.ru –≤–º–µ—Å—Ç–æ oauth.vk.com
  -  api.vk.ru –≤–º–µ—Å—Ç–æ api.vk.com
  -  –ü–æ—Å–ª–µ 30 —Å–µ–Ω—Ç—è–±—Ä—è –≤—Å–µ API-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –¥–æ–º–µ–Ω vk.ru.
  -  –í —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –≤–∫ –Ω–µ —Ä–∞–∑—Ä–µ—à–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å localhost —Å –ø–æ—Ä—Ç–æ–º 3000, –ø–æ—ç—Ç–æ–º—É –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ö–æ—Å—Ç–∏–Ω–≥ ngrok –∏–ª–∏ –∞–Ω–∞–ª–æ–≥ (–∏–ª–∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å DNS –Ω–∞ dev-—Å–µ—Ä–≤–µ—Ä–µ).
  - –∑–∞–ø—É—Å–∫ ngrok:`C:\Users\whirp\AppData\Local\Microsoft\WinGet\Packages\Ngrok.Ngrok_Microsoft.Winget.Source_8wekyb3d8bbwe\ngrok.exe http 3000`
  - `—Ç–µ—Å—Ç—ã –≤ DEV –Ω–∞ https://oppositionary-subdialectally-bebe.ngrok-free.dev`
  `npm run worker:start`
- [x] **1.3 Magic links**
  - ‚úÖ `app/api/auth/magic-link/request/route.ts` (–≤–∞–ª–∏–¥–∞—Ü–∏—è email, rate limit, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ–¥–Ω–æ—Ä–∞–∑–æ–≤–æ–≥–æ —Ç–æ–∫–µ–Ω–∞, –ø–∏—Å—å–º–æ —á–µ—Ä–µ–∑ RUSENDER).
  - ‚úÖ `app/api/auth/magic-link/verify/route.ts` (–ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞, single-use, –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è, —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Å—Å–∏–∏).
-  - ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π UX: —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è, –∞–≤—Ç–æ–ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –¥–∞—à–±–æ—Ä–¥, fallback –Ω–∞ Passkey-–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é.
- [x] **1.4 Passkey / WebAuthn**
  - ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (`app/api/auth/passkey/register/*`, `app/api/auth/passkey/authenticate/*`), —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ challenge –∏ –≤—ã–¥–∞—á–∞ —Å–µ—Å—Å–∏–∏.
  - ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (`lib/webauthn-config.ts`, Prisma enum/–º–æ–¥–µ–ª—å, `lib/session-utils.ts`, `WebAuthnCredential`).
- [ ] **1.5 –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è** (–∞–¥–º–∏–Ω—ã)
  - –ü–∞—Ä–æ–ª–∏ (bcrypt), `app/api/auth/check-user/route.ts`, TOTP 2FA.
- [ ] **1.6 Middleware-hardening**
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥–æ–ª–æ–≤–∫–∞ `x-middleware-subrequest` (—Å–º. CVE-2025-29927) –∏ –æ—Ç–±—Ä–∞—Å—ã–≤–∞–Ω–∏–µ –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ —Å –Ω–∏–º.
  - –û–±—â–∞—è CSP/Headers (—Å–º. —Ä–∞–∑–¥–µ–ª 8).

## 2. –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è (–ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí ¬´–ü—Ä–æ—Ñ–∏–ª—å¬ª, ¬´–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è¬ª)
- [x] **2.1 API –ø—Ä–æ—Ñ–∏–ª—è** ‚úÖ
  - [x] GET/PUT `app/api/settings/profile/route.ts`: –∏–º—è, —Ñ–∞–º–∏–ª–∏—è, email, —Ç–µ–ª–µ—Ñ–æ–Ω, –¥–æ–ª–∂–Ω–æ—Å—Ç—å.
  - [x] –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤ –†–§, –∞—É–¥–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π.
  - [x] –í–æ–∑–≤—Ä–∞—Ç –Ω–∞ —Ñ—Ä–æ–Ω—Ç –¥–ª—è –ø—Ä–µ—Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –¥–∞—à–±–æ—Ä–¥–∞.
  - [x] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–µ–º–æ-—Ä–µ–∂–∏–º–∞ —Å –æ—Ç–¥–µ–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏.
- [x] **2.2 –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è** ‚úÖ
  - [x] GET/PUT `app/api/settings/organization/route.ts`: –Ω–∞–∑–≤–∞–Ω–∏–µ, –ò–ù–ù (—É–Ω–∏–∫–∞–ª—å–Ω–æ), –ö–ü–ü, –∞–¥—Ä–µ—Å, –æ—Ç—Ä–∞—Å–ª—å.
  - [x] **–ê–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–æ –ò–ù–ù —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤**:
    - [x] –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: **Dadata MCP API** (–ë–ï–°–ü–õ–ê–¢–ù–û! https://dadata.ru/mcp/)
      - [x] –ö–ª–∏–µ–Ω—Ç: `lib/dadata-mcp-client.ts`
      - [x] Endpoint: POST https://suggestions.dadata.ru/suggestions/api/4_1/rs/findById/party
      - [x] –î–∞–Ω–Ω—ã–µ: –ò–ù–ù, –ö–ü–ü, –û–ì–†–ù, –û–ö–ü–û, –û–ö–¢–ú–û, –û–ö–ê–¢–û, –û–ö–í–≠–î, –∞–¥—Ä–µ—Å–∞, –¥–∏—Ä–µ–∫—Ç–æ—Ä, —Ç–µ–ª–µ—Ñ–æ–Ω
      - [x] –ö–ª—é—á–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ `.env.example`: DADATA_API_KEY, DADATA_SECRET_KEY
    - [x] Fallback: **Checko API** (–µ—Å–ª–∏ Dadata –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω)
      - [x] –ö–ª–∏–µ–Ω—Ç: `lib/checko-service.ts`
      - [x] Endpoint: https://api.checko.ru/v2/company
      - [x] –¢–µ –∂–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –ï–ì–†–Æ–õ/–ï–ì–†–ò–ü
    - [x] Unified endpoint: `app/api/organization/autofill/route.ts`
    - [x] UI: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—Ä–æ—Å –ø—Ä–∏ –≤–≤–æ–¥–µ 10/12 —Ü–∏—Ñ—Ä –ò–ù–ù
    - [x] –ü–æ–¥—Å–∫–∞–∑–∫–∞ –≤ UI: "–ò–ù–ù (–∞–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–æ –ò–ù–ù)"
  - [x] –û–±–Ω–æ–≤–ª–µ–Ω–∞ Prisma —Å—Ö–µ–º–∞ —Å –ø–æ–ª—è–º–∏ –¥–ª—è —Ä–µ–∫–≤–∏–∑–∏—Ç–æ–≤ (–û–ì–†–ù, –û–ö–í–≠–î, –û–ö–ü–û, –û–ö–¢–ú–û, –û–ö–ê–¢–û, –¥–∏—Ä–µ–∫—Ç–æ—Ä).
- [x] **2.3 –ö–æ–Ω—Ç–∞–∫—Ç–Ω—ã–µ –ª–∏—Ü–∞** ‚úÖ
  - [x] CRUD `app/api/settings/organization/contacts/route.ts` (—Ä–æ–ª—å, email, —Å—Ç–∞—Ç—É—Å ¬´–û—Å–Ω–æ–≤–Ω–æ–π¬ª –æ–¥–∏–Ω).
  - [x] GET/POST –¥–ª—è —Å–ø–∏—Å–∫–∞ –∏ —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤.
  - [x] GET/PUT/DELETE `app/api/settings/organization/contacts/[contactId]/route.ts` –¥–ª—è –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤.
  - [x] –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤, –∞—É–¥–∏—Ç –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.
  - [x] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–µ–º–æ-—Ä–µ–∂–∏–º–∞ —Å –∑–∞–≥–ª—É—à–∫–∞–º–∏.

## 3. –î–æ–∫—É–º–µ–Ω—Ç—ã –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞–º–∏
- [x] **3.1 –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤** ‚úÖ
  - [x] –¢–∞–±–ª–∏—Ü—ã `documents`, `document_versions`, `document_tags`.
  - [x] –°—Ç–∞—Ç—É—Å—ã: `–ó–∞–≥—Ä—É–∂–µ–Ω`, `–û–±—Ä–∞–±–æ—Ç–∞–Ω`, `–í –æ–±—Ä–∞–±–æ—Ç–∫–µ`, `–û—à–∏–±–∫–∞` (mapped to `uploaded`, `processed`, `processing`, `error`).
  - [x] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π: –ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ, –ü–æ—Å—Ç–∞–≤—â–∏–∫–∏, –û—Ç—Ö–æ–¥—ã, –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç, –≠–Ω–µ—Ä–≥–∏—è.
  - [x] –•—Ä–∞–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–∞, –¥–∞—Ç—ã –∑–∞–≥—Ä—É–∑–∫–∏, MIME —Ç–∏–ø–æ–≤.
- [x] **3.2 API —Å–ø–∏—Å–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤** ‚úÖ
  - [x] `GET /app/api/documents` —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏: `q`, `status`, `category`, `page`, `pageSize` (10/25/50/100), `order`.
  - [x] –û—Ç–≤–µ—Ç: –∏—Ç–æ–≥–æ–≤—ã–µ —Å—á—ë—Ç—á–∏–∫–∏ (–≤—Å–µ–≥–æ, –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º), –º–∞—Å—Å–∏–≤ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤, –ø–∞–≥–∏–Ω–∞—Ü–∏—è.
  - [x] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–µ–º–æ-—Ä–µ–∂–∏–º–∞ —Å –º–æ–∫–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ (150+ –∑–∞–ø–∏—Å–µ–π).
- [x] **3.3 –°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏** ‚úÖ
  - [x] –ö–∞—Ä—Ç–æ—á–∫–∏: "–í—Å–µ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤", "–û–±—Ä–∞–±–æ—Ç–∞–Ω–æ", "–í –æ–±—Ä–∞–±–æ—Ç–∫–µ", "–û—à–∏–±–∫–∞" —Å —á–∏—Å–ª–æ–≤—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏.
  - [x] –†–µ–∞–∫—Ç–∏–≤–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç–∞—Ç—É—Å–æ–≤ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤.
- [x] **3.4 –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ –ø–æ–∏—Å–∫** ‚úÖ
  - [x] –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∏ —Ç–∏–ø—É –¥–æ–∫—É–º–µ–Ω—Ç–∞.
  - [x] –§–∏–ª—å—Ç—Ä –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º (–≤—Å–µ —Å—Ç–∞—Ç—É—Å—ã/–∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π).
  - [x] –§–∏–ª—å—Ç—Ä –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º (–≤—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏/–∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è).
  - [x] –í—ã–±–æ—Ä –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–∞–ø–∏—Å–µ–π –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ (25/50/100).
- [x] **3.5 –î–æ–∫—É–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è** ‚úÖ
  - [x] –ú–∞—Å—Å–æ–≤—ã–µ –¥–µ–π—Å—Ç–≤–∏—è —á–µ—Ä–µ–∑ —á–µ–∫–±–æ–∫—Å—ã: —ç–∫—Å–ø–æ—Ä—Ç –∞—Ä—Ö–∏–≤–∞, —É–¥–∞–ª–µ–Ω–∏–µ, –ø–æ–≤—Ç–æ—Ä–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞.
  - [x] –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞: –ü—Ä–æ—Å–º–æ—Ç—Ä, –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å, –£–¥–∞–ª–∏—Ç—å.
  - [x] –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π —Å –∏–∫–æ–Ω–∫–∞–º–∏ –≤ —Ç–∞–±–ª–∏—Ü–µ.
- [x] **3.6 Upload API –∏ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ** ‚úÖ
  - [x] `app/api/documents/upload/route.ts` —Å chunking >100 –ú–ë.
  - [x] –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–æ–≤: PDF, DOC/DOCX, XLS/XLSX, CSV, TXT, JPG/PNG, TIFF.
  - [x] –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∑–∞–≥—Ä—É–∑–∫–∏ —Å drag&drop, –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–æ–º, –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π.
  - [x] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± —É—Å–ø–µ—à–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–µ/–æ—à–∏–±–∫–∞—Ö.
- [x] **3.7 –¢–∞–±–ª–∏—Ü–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤** ‚úÖ
  - [x] –°–æ—Ä—Ç–∏—Ä—É–µ–º—ã–µ –∫–æ–ª–æ–Ω–∫–∏: –ù–∞–∑–≤–∞–Ω–∏–µ, –¢–∏–ø, –î–∞—Ç–∞ –∑–∞–≥—Ä—É–∑–∫–∏, –°—Ç–∞—Ç—É—Å.
  - [x] –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–∞, –∏–∫–æ–Ω–æ–∫ —Ç–∏–ø–æ–≤ —Ñ–∞–π–ª–æ–≤.
  - [x] –¶–≤–µ—Ç–Ω—ã–µ –±–µ–π–¥–∂–∏ —Å—Ç–∞—Ç—É—Å–æ–≤ —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º–∏ —Å—Ç–∏–ª—è–º–∏.
  - [x] Responsive –¥–∏–∑–∞–π–Ω —Ç–∞–±–ª–∏—Ü—ã.
- [x] **3.8 –ü–∞–≥–∏–Ω–∞—Ü–∏—è** ‚úÖ
  - [x] –ù–∞–≤–∏–≥–∞—Ü–∏—è "–ü—Ä–µ–¥—ã–¥—É—â–∞—è/–°–ª–µ–¥—É—é—â–∞—è".
  - [x] –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è "–ü–æ–∫–∞–∑–∞–Ω–æ X-Y –∏–∑ Z –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤".
  - [x] –°—Ç—Ä–∞–Ω–∏—á–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è "–°—Ç—Ä–∞–Ω–∏—Ü–∞ X –∏–∑ Y".
- [x] **3.9 –û—à–∏–±–∫–∏ –∏ –ø–æ–≤—Ç–æ—Ä–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** ‚úÖ
  - [x] Endpoint `POST /documents/reprocess` –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö ID.
  - [x] –°–Ω—è—Ç–∏–µ `error_reason`, –ø–µ—Ä–µ–Ω–æ—Å –≤ —Å—Ç–∞—Ç—É—Å `processing`.
  - [x] –§–∏–ª—å—Ç—Ä –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Å –æ—à–∏–±–∫–∞–º–∏ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞.
- [x] **3.10 –≠–∫—Å–ø–æ—Ä—Ç –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤** ‚úÖ
  - [x] –ú–∞—Å—Å–æ–≤—ã–π —ç–∫—Å–ø–æ—Ä—Ç –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –≤ ZIP –∞—Ä—Ö–∏–≤.
  - [x] –≠–∫—Å–ø–æ—Ä—Ç –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –≤ Excel/CSV —Ñ–æ—Ä–º–∞—Ç–µ.
  - [x] –ö–Ω–æ–ø–∫–∞ "–≠–∫—Å–ø–æ—Ä—Ç" –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.

### ‚úÖ **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ API, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –¥–ª—è –ø–æ–ª–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏:**
- [x] `GET /api/documents/[id]` ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–µ—Ç–∞–ª–µ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞
- [x] `DELETE /api/documents/[id]` ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞
- [x] `GET /api/documents/[id]/download` ‚Äî —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞
- [x] `PUT /api/documents/[id]/status` ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ (–¥–ª—è –ø–µ—Ä–µ–æ–±—Ä–∞–±–æ—Ç–∫–∏)
- [x] `POST /api/documents/bulk` ‚Äî –º–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (—É–¥–∞–ª–µ–Ω–∏–µ, –ø–µ—Ä–µ–æ–±—Ä–∞–±–æ—Ç–∫–∞, —Å–º–µ–Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏)
- [x] `GET /api/documents/export` ‚Äî —ç–∫—Å–ø–æ—Ä—Ç –≤ CSV/TSV/JSON —Ñ–æ—Ä–º–∞—Ç–µ
- [x] `POST /api/documents/reprocess` ‚Äî —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Å –æ—à–∏–±–∫–∞–º–∏
- [x] `GET /api/documents/errors` ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Å –æ—à–∏–±–∫–∞–º–∏
- [x] `GET /api/documents/error-summary` ‚Äî —Å–≤–æ–¥–∫–∞ –ø–æ –æ—à–∏–±–∫–∞–º —Å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏

### ‚úÖ **–£–ª—É—á—à–µ–Ω–∏—è API –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (–∑–∞–¥–∞—á–∏ 3.7-3.9):**
- [x] **–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª–æ–≤**: –∏–∫–æ–Ω–∫–∏, —Ü–≤–µ—Ç–∞ —Å—Ç–∞—Ç—É—Å–æ–≤, —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–æ–≤
- [x] **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –ø–∞–≥–∏–Ω–∞—Ü–∏—è**: hasNext/hasPrev, startIndex/endIndex, navigation
- [x] **–í–∞–ª–∏–¥–∞—Ü–∏—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏**: –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ–ø—É—Å—Ç–∏–º—ã—Ö –ø–æ–ª–µ–π, —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤
- [x] **–°–∏—Å—Ç–µ–º–∞ –æ—à–∏–±–æ–∫**: errorType, errorDetails, retryCount –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- [x] **–ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –æ—à–∏–±–æ–∫**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ –æ—à–∏–±–∫–∏ –ø–æ —Å–æ–æ–±—â–µ–Ω–∏—é
- [x] **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏**: —É–º–Ω—ã–µ —Å–æ–≤–µ—Ç—ã –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é –æ—à–∏–±–æ–∫ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

### ‚úÖ **Frontend –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å API ‚Äî –ó–ê–í–ï–†–®–ï–ù–ê**
- [x] **React Hooks –¥–ª—è API**: useDocuments, useDocumentErrors, useFileUpload
- [x] **–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π FileUpload**: –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ä–µ–∞–ª—å–Ω—ã–º API, —Å–µ–ª–µ–∫—Ç–æ—Ä –∫–∞—Ç–µ–≥–æ—Ä–∏–π, –ø—Ä–æ–≥—Ä–µ—Å—Å –∑–∞–≥—Ä—É–∑–∫–∏
- [x] **DocumentsTable**: –ø–æ–ª–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏, –ø–æ–∏—Å–∫–æ–º, –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π, –º–∞—Å—Å–æ–≤—ã–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏
- [x] **Toast —Å–∏—Å—Ç–µ–º–∞**: —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± —É—Å–ø–µ—Ö–∞—Ö –∏ –æ—à–∏–±–∫–∞—Ö
- [x] **Loading states**: —Å–ø–∏–Ω–Ω–µ—Ä—ã, skeleton loaders, disabled —Å–æ—Å—Ç–æ—è–Ω–∏—è
- [x] **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**: –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ API, retry —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### üéØ **–ì–æ—Ç–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
- **`useDocuments`** ‚Äî —Ö—É–∫ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏ (—Å–ø–∏—Å–æ–∫, –∑–∞–≥—Ä—É–∑–∫–∞, —É–¥–∞–ª–µ–Ω–∏–µ, –º–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏)
- **`useDocumentErrors`** ‚Äî —Ö—É–∫ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –æ—à–∏–±–∫–∞–º–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏ –ø–µ—Ä–µ–æ–±—Ä–∞–±–æ—Ç–∫–∏
- **`useFileUpload`** ‚Äî —Ö—É–∫ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤ —Å –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–æ–º
- **`DocumentsTable`** ‚Äî –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Ç–∞–±–ª–∏—Ü—ã —Å –ø–æ–ª–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é
- **`FileUpload`** ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –º–æ–¥–∞–ª–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π
- **`Toaster`** ‚Äî —Å–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### üìã **–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤:**
- ‚úÖ **–ó–∞–≥—Ä—É–∑–∫–∞**: Drag & Drop, –≤—ã–±–æ—Ä –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–æ–≤, –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä
- ‚úÖ **–°–ø–∏—Å–æ–∫**: –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è, –ø–æ–∏—Å–∫, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞, –ø–∞–≥–∏–Ω–∞—Ü–∏—è, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- ‚úÖ **–î–µ–π—Å—Ç–≤–∏—è**: –°–∫–∞—á–∏–≤–∞–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ, –ø–µ—Ä–µ–æ–±—Ä–∞–±–æ—Ç–∫–∞, –º–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- ‚úÖ **–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ**: –ò–∫–æ–Ω–∫–∏ —Ç–∏–ø–æ–≤ —Ñ–∞–π–ª–æ–≤, —Ü–≤–µ—Ç–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã, —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã
- ‚úÖ **–û—à–∏–±–∫–∏**: –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –æ—à–∏–±–æ–∫, —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏, —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã

## 4. OCR –∏ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞

> ‚öôÔ∏è –ü–µ—Ä–µ–¥ —Å—Ç–∞—Ä—Ç–æ–º —Ä–∞–±–æ—Ç –ø–æ —Ä–∞–∑–¥–µ–ª—É 4 –Ω—É–∂–Ω–æ:
> - —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (`exceljs`, `node-html-parser`, –ø–∞–∫–µ—Ç—ã `@aws-sdk/*`, `openai` –∏ —Å–æ–ø—É—Ç—Å—Ç–≤—É—é—â–∏–µ);
> - –ø—Ä–∏–≤–µ—Å—Ç–∏ –±–∞–∑–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã –ø–∞—Ä—Å–µ—Ä–æ–≤ –∫ –µ–¥–∏–Ω–æ–º—É –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É, —É—Å—Ç—Ä–∞–Ω–∏—Ç—å —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è –≤ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–∏;
> - –¥–æ–±–∞–≤–∏—Ç—å/–∑–∞–≤–µ—Ä—à–∏—Ç—å –º–æ–¥—É–ª—å `lib/prisma-encryption-middleware.ts`, —á—Ç–æ–±—ã Prisma –∫–ª–∏–µ–Ω—Ç –ø–æ–¥–∫–ª—é—á–∞–ª —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –ü–î–Ω.
- [x] **4.1 Multi-level OCR service** ‚úÖ
  - [x] `lib/multi-level-ocr-service.ts` —Å–æ–∑–¥–∞–Ω —Å 5-—É—Ä–æ–≤–Ω–µ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π:
    - –£—Ä–æ–≤–µ–Ω—å 1: Yandex Vision API (–æ—Å–Ω–æ–≤–Ω–æ–π OCR)
    - –£—Ä–æ–≤–µ–Ω—å 2: Tesseract.js (fallback OCR)
    - –£—Ä–æ–≤–Ω–∏ 3-5: Foundation Models (–ø–æ—Å—Ç–æ–±—Ä–∞–±–æ—Ç–∫–∞ —á–µ—Ä–µ–∑ GigaChat)
  - [x] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ (auto mode)
  - [x] Fallback –º–µ—Ö–∞–Ω–∏–∑–º –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö Yandex Vision ‚Üí Tesseract
  - [x] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å `yandex-vision-service.ts` –∏ `yandex-iam-token-manager.ts`
  - [x] Health-check —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å: `getOcrStatus()` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –≤—Å–µ—Ö —É—Ä–æ–≤–Ω–µ–π
- [x] **4.2 –î–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∞** ‚úÖ
  - [x] `lib/format-detector.ts` —É–∂–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–ª —Å –ø–æ–ª–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π MIME –∏ magic bytes –¥–µ—Ç–µ–∫—Ü–∏–∏.
  - [x] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤: PDF, Excel, CSV, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã.
  - [x] –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –ø–∞—Ä—Å–µ—Ä–∞–º.
- [x] **4.3 –ü–∞—Ä—Å–µ—Ä—ã** ‚úÖ
  - [x] –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã PDF (`pdf-parser.ts`) –∏ HTML (`html-parser.ts`) –ø–∞—Ä—Å–µ—Ä—ã –¥–ª—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É BaseParser.
  - [x] –ó–∞–º–µ–Ω–∞ UnPDF –Ω–∞ pdf-parse –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã.
  - [x] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö –µ–¥–∏–Ω–∏—Ü –∏–∑–º–µ—Ä–µ–Ω–∏—è –≤–æ –≤—Å–µ –ø–∞—Ä—Å–µ—Ä—ã.
  - [x] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Excel/CSV –ø–∞—Ä—Å–µ—Ä–æ–≤ —É–∂–µ –±—ã–ª–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Ä–∞–Ω–µ–µ.
- [x] **4.4 Queue worker** ‚úÖ
  - [x] `workers/ocr-worker.ts` –æ–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å `multi-level-ocr-service.ts`
  - [x] –ó–∞–º–µ–Ω–µ–Ω `HybridOcrService` –Ω–∞ `processImageMultiLevel()`
  - [x] –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤: `source` (yandex/tesseract/donut), `confidence`, `processingTime`, `words`
  - [x] –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ –∑–∞–ø—É—Å–∫–∞ worker: —Å–æ–∑–¥–∞–Ω `pg-boss-config.ts`
  - [x] Worker —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫ `Cannot find module`
- [x] **4.5 –†–µ–∑—É–ª—å—Ç–∞—Ç—ã OCR** ‚úÖ
  - [x] API `GET /api/ocr/results` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ OCR —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π.
  - [x] API `GET /api/ocr/results/[documentId]` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ OCR.
  - [x] API `POST /api/ocr/reprocess` –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Å –≤—ã–±–æ—Ä–æ–º –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞.
  - [x] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–µ–º–æ-—Ä–µ–∂–∏–º–∞ —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º–∏ –º–æ–∫–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏.
  - [x] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–≤–ª–µ—á–µ–Ω–Ω—ã—Ö –ø–æ–ª–µ–π, confidence, –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.
- [x] **4.6 Health-check** ‚úÖ
  - [x] `app/api/health/route.ts` –¥–ª—è –æ–±—â–µ–≥–æ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ health-check.
  - [x] `app/api/health/ocr/route.ts` –¥–ª—è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ OCR health-check.
  - [x] –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –≤—Å–µ—Ö OCR –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤, –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, —Ñ–∞–π–ª–æ–≤–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞.
  - [x] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ—á–µ—Ä–µ–¥–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã.
- [x] **4.7 –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è OCR –≤ UI –¥–ª—è PAID —Ä–µ–∂–∏–º–∞** ‚úÖ
  - [x] –°–æ–∑–¥–∞–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `OcrResultModal.tsx` –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ OCR.
  - [x] –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–ø—Ü–∏—è "–ü—Ä–æ—Å–º–æ—Ç—Ä OCR" –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (—Ç—Ä–∏ —Ç–æ—á–∫–∏).
  - [x] –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–∑–≤–ª–µ—á–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç, –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ, —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞.
  - [x] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è –≤—Å–µ—Ö —Å—Ç–∞—Ç—É—Å–æ–≤ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (PROCESSED/FAILED).
  - [x] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å–∏—Å—Ç–µ–º–æ–π —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫.

- [ ] **4.8 –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ —Å–±–æ—Ä–∫–∏ –∏ —Ç–∏–ø–∏–∑–∞—Ü–∏–∏**
  - [ ] –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ TypeScript –æ—à–∏–±–æ–∫ –≤ —Å–∏—Å—Ç–µ–º–µ OCR (HybridOcrService, –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤)
  - [ ] –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–π –ø–æ–ª–µ–π –≤ Prisma —Å—Ö–µ–º–µ (fileKey, kpp, extractedData)
  - [ ] –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ –∏–º–ø–æ—Ä—Ç–æ–≤ –∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
  - [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å Next.js 15 –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
  - [ ] –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤—Å–µ—Ö –ø–∞—Ä—Å–µ—Ä–æ–≤ –¥–ª—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è BaseParser –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É
  - [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª–Ω–æ–π —Å–±–æ—Ä–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞ –±–µ–∑ –æ—à–∏–±–æ–∫

## 5. –û—Ç—á—ë—Ç—ã –∏ —Ä–µ–≥—É–ª—è—Ç–æ—Ä–Ω–∞—è –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç—å
- [x] **5.1 API –æ—Ç—á–µ—Ç–æ–≤ –¥–ª—è UI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏** ‚úÖ
  - [x] `GET /app/api/reports` ‚Äî —Å–ø–∏—Å–æ–∫ –æ—Ç—á–µ—Ç–æ–≤ —Å –ø–æ–ª—è–º–∏: id, name, type, status, emissions, documents_count, deadline, actions
  - [x] `POST /app/api/reports` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ —á–µ—Ä–Ω–æ–≤–∏–∫–∞ –æ—Ç—á–µ—Ç–∞ (modal "–°–æ–∑–¥–∞—Ç—å –æ—Ç—á–µ—Ç")
  - [x] `GET /app/api/reports/[id]` ‚Äî –¥–µ—Ç–∞–ª–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –æ—Ç—á–µ—Ç–∞ ‚úÖ
  - [x] `PUT /app/api/reports/[id]` ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ—Ç—á–µ—Ç–∞ ‚úÖ
  - [x] `DELETE /app/api/reports/[id]` ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ –æ—Ç—á–µ—Ç–∞ ‚úÖ
  - [x] `GET /app/api/reports/[id]/download` ‚Äî —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ PDF/Excel –æ—Ç—á–µ—Ç–∞ ‚úÖ
  - [x] `POST /app/api/reports/[id]/submit` ‚Äî –æ—Ç–ø—Ä–∞–≤–∫–∞ –æ—Ç—á–µ—Ç–∞ –≤ —Ä–µ–≥—É–ª—è—Ç–æ—Ä ‚úÖ (–∑–∞–≥–æ—Ç–æ–≤–ª–µ–Ω–æ –¥–ª—è –±—É–¥—É—â–µ–≥–æ)
- [x] **5.2 –°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –æ—Ç—á–µ—Ç–æ–≤** ‚úÖ
  - [x] API `GET /app/api/reports/stats` –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∏–π:
    - `total` ‚Äî –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç—á–µ—Ç–æ–≤
    - `ready_to_send` ‚Äî –≥–æ—Ç–æ–≤—ã –∫ –æ—Ç–ø—Ä–∞–≤–∫–µ (—Å—Ç–∞—Ç—É—Å "ready")
    - `close_deadlines` ‚Äî –±–ª–∏–∑–∫–∏–µ –¥–µ–¥–ª–∞–π–Ω—ã (–¥–æ 7 –¥–Ω–µ–π)
    - `approved` ‚Äî —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–Ω—ã–µ –æ—Ç—á–µ—Ç—ã
- [x] **5.3 296-–§–ó –æ—Ç—á–µ—Ç—ã –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è PDF** ‚úÖ
  - [x] –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä PDF (`lib/enhanced-report-generator.ts`) —Å –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞–º–∏ AR6 2025 ‚úÖ
  - [x] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–∏–ø–æ–≤: "296-–§–ó –ì–æ–¥–æ–≤–æ–π" ‚úÖ
  - [x] –†–∞—Å—á–µ—Ç –≤—ã–±—Ä–æ—Å–æ–≤ CO2 —Å –∞–∫—Ç—É–∞–ª—å–Ω—ã–º–∏ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞–º–∏ (CO2:1, CH4:28, N2O:265) ‚úÖ
  - [x] –°–≤—è–∑—å –æ—Ç—á–µ—Ç–∞ —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏ (documents_count –≤ UI) ‚úÖ
  - [x] –†–µ–∞–ª—å–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è PDF —á–µ—Ä–µ–∑ Puppeteer ‚úÖ
  - [x] Template engine –¥–ª—è –∑–∞–º–µ–Ω—ã —Ç–æ–∫–µ–Ω–æ–≤ [[variable]] ‚úÖ
  - [x] Emission calculator —Å —Ä–æ—Å—Å–∏–π—Å–∫–∏–º–∏ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞–º–∏ 2025 ‚úÖ
- [x] **5.4 –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞–º–∏ –∏ –¥–µ–¥–ª–∞–π–Ω–∞–º–∏** ‚úÖ
  - [x] –°—Ç–∞—Ç—É—Å—ã —É–ø—Ä–æ—â–µ–Ω—ã: `draft` (–ß–µ—Ä–Ω–æ–≤–∏–∫), `ready` (–ì–æ—Ç–æ–≤) ‚úÖ
  - [x] –°–∫—Ä—ã—Ç—ã —Å—Ç–∞—Ç—É—Å—ã `submitted`/`approved` –¥–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ —Ä–µ–≥—É–ª—è—Ç–æ—Ä ‚úÖ
  - [x] –ü–æ–ª—è `submission_deadline`, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–æ–º–µ—Ç–∫–∞ "–ü—Ä–æ—Å—Ä–æ—á–µ–Ω" –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ ‚úÖ
  - [x] –°–µ–∫—Ü–∏—è "–ë–ª–∏–∂–∞–π—à–∏–µ –¥–µ–¥–ª–∞–π–Ω—ã" ‚Äî —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≤ UI (—Å—Ç–∞—Ç–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ) ‚úÖ
  - [x] –¶–≤–µ—Ç–æ–≤–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤ –≤ UI (badges) ‚úÖ
- [x] **5.5 –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ –ø–æ–∏—Å–∫ –æ—Ç—á–µ—Ç–æ–≤** ‚úÖ
  - [x] –§–∏–ª—å—Ç—Ä—ã –ø–æ —Å—Ç–∞—Ç—É—Å—É: –≤—Å–µ, —á–µ—Ä–Ω–æ–≤–∏–∫, –≥–æ—Ç–æ–≤, –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω, —É—Ç–≤–µ—Ä–∂–¥–µ–Ω
  - [x] –§–∏–ª—å—Ç—Ä—ã –ø–æ —Ç–∏–ø—É –æ—Ç—á–µ—Ç–∞: –≤—Å–µ, 296-–§–ó –ì–æ–¥–æ–≤–æ–π, 296-–§–ó –ö–≤–∞—Ä—Ç–∞–ª—å–Ω—ã–π
  - [x] –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –æ—Ç—á–µ—Ç–∞ (–ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≤ API)
  - [x] –ü–∞–≥–∏–Ω–∞—Ü–∏—è —Å–ø–∏—Å–∫–∞ –æ—Ç—á–µ—Ç–æ–≤ (–ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≤ API)
- [x] **5.6 –î–µ–º–æ-—Ä–µ–∂–∏–º –¥–ª—è –æ—Ç—á–µ—Ç–æ–≤** ‚úÖ
  - [x] –ú–æ–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è 3 –æ—Ç—á–µ—Ç–æ–≤ –≤ `lib/demo-data-seeder.ts`
  - [x] –õ–æ–≥–∏–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è demo/paid –≤ API (–ø–æ–∫–∞–∑ —Ä–µ–∞–ª—å–Ω—ã—Ö/–º–æ–∫–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö)
  - [x] –î–µ–º–æ-–æ—Ç—á–µ—Ç—ã —Å —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –ø–æ –≤—ã–±—Ä–æ—Å–∞–º –∏ –¥–µ–¥–ª–∞–π–Ω–∞–º
- [x] **5.7 –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ –¥–µ–¥–ª–∞–π–Ω–∞–º** ‚úÖ *(–æ—Ç–ª–æ–∂–µ–Ω–æ –≤ –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è)*
  - [x] –ó–∞–¥–∞—á–∞ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞ –≤ —Ä–∞–∑–¥–µ–ª "14. –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è" –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ ‚úÖ
  - [x] –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –∫ —Å–∏—Å—Ç–µ–º–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–∞ ‚úÖ

### ‚úÖ **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–¥–∞—á–∏, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –¥–ª—è –±–ª–æ–∫–∞ 5:**
- [x] **Prisma –º–æ–¥–µ–ª—å Report** ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∞ —Å—Ö–µ–º–∞ –ë–î —Å –ø–æ–ª—è–º–∏ name, status, period, submissionDeadline, totalEmissions, documentCount
- [x] **ReportStatus enum** ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω enum —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏ —Å—Ç–∞—Ç—É—Å–∞–º–∏ (DRAFT, READY) - —É–ø—Ä–æ—â–µ–Ω –¥–ª—è MVP
- [x] **Frontend –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** ‚Äî Reports.tsx –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–ø–∏—Å–∞–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å API
- [x] **User mode utilities** ‚Äî –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–∏–ø–∞ 'reports_stats' –≤ getUserDataByMode
- [x] **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω—ã —Å–æ—Å—Ç–æ—è–Ω–∏—è loading, error handling –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ
- [x] **UI —Å–æ—Å—Ç–æ—è–Ω–∏—è** ‚Äî –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –∑–∞–≥—Ä—É–∑–∫–∏, –ø—É—Å—Ç—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ API
- [x] **Template engine** ‚Äî —Å–æ–∑–¥–∞–Ω –¥–≤–∏–∂–æ–∫ –∑–∞–º–µ–Ω—ã —Ç–æ–∫–µ–Ω–æ–≤ [[variable]] –¥–ª—è —à–∞–±–ª–æ–Ω–æ–≤ –æ—Ç—á–µ—Ç–æ–≤
- [x] **PDF generator** ‚Äî –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Puppeteer –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ PDF —Å –∫–∏—Ä–∏–ª–ª–∏—á–µ—Å–∫–∏–º–∏ —à—Ä–∏—Ñ—Ç–∞–º–∏
- [x] **Emission calculator** ‚Äî –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –≤—ã–±—Ä–æ—Å–æ–≤ —Å —Ä–æ—Å—Å–∏–π—Å–∫–∏–º–∏ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞–º–∏ AR6 2025
- [x] **–ü–æ–ª–Ω—ã–µ API endpoints** ‚Äî –≤—Å–µ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ PDF –æ—Ç—á–µ—Ç–æ–≤
- [x] **–ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ –∏–∑ MVP** ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞ –≥–æ—Ç–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞

## 6. –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –¥–∞—à–±–æ—Ä–¥
- [x] **6.1 Dashboard API ‚Äî –æ—Å–Ω–æ–≤–Ω—ã–µ KPI –∫–∞—Ä—Ç–æ—á–∫–∏** ‚úÖ
  - `GET /app/api/dashboard` —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏:
    - **–û–±—â–∏–µ –≤—ã–±—Ä–æ—Å—ã** (1 247,00 —Ç CO‚ÇÇ, +5.2% –∫ –ø—Ä–æ—à–ª–æ–º—É –≥–æ–¥—É)
    - **–î–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∑–∞–≥—Ä—É–∂–µ–Ω–æ** (89 —Ñ–∞–π–ª–æ–≤, +12.5% –∑–∞ –º–µ—Å—è—Ü)
    - **–ì–æ—Ç–æ–≤—ã—Ö –æ—Ç—á–µ—Ç–æ–≤** (23 –æ—Ç—á–µ—Ç–∞, +8.1% –∑–∞ –∫–≤–∞—Ä—Ç–∞–ª)
    - **–≠–∫–æ–Ω–æ–º–∏—è –≤—Ä–µ–º–µ–Ω–∏** (156 —á–∞—Å–æ–≤, +45.2% –∑–∞ –≥–æ–¥)
  - **–ü–æ—Å–ª–µ–¥–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã** ‚Äî 4 —ç–ª–µ–º–µ–Ω—Ç–∞ —Å –∏–º–µ–Ω–µ–º —Ñ–∞–π–ª–∞, –¥–∞—Ç–æ–π, —Å—Ç–∞—Ç—É—Å–æ–º
  - **–û—Ç—á–µ—Ç—ã** ‚Äî 3 —ç–ª–µ–º–µ–Ω—Ç–∞ —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º, –¥–∞—Ç–æ–π, —Å—Ç–∞—Ç—É—Å–æ–º
  - **–ü—Ä–æ–≥—Ä–µ—Å—Å –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç–∏ 296-–§–ó** ‚Äî 3 –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞:
    - –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö: 85%
    - –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤: 72%
    - –°–æ–∑–¥–∞–Ω–∏–µ –æ—Ç—á–µ—Ç–æ–≤: 45%

- [x] **6.2 Analytics API ‚Äî –≥—Ä–∞—Ñ–∏–∫–∏ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** ‚úÖ
  - `GET /app/api/analytics` —Å–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏:
    - **–§–∏–ª—å—Ç—Ä –ø–æ –≥–æ–¥–∞–º** (—Å–µ–ª–µ–∫—Ç–æ—Ä –ø–µ—Ä–∏–æ–¥–∞)
    - **4 KPI –∫–∞—Ä—Ç–æ—á–∫–∏** (—Ç–µ –∂–µ —á—Ç–æ –Ω–∞ –¥–∞—à–±–æ—Ä–¥–µ)
    - **–î–∏–Ω–∞–º–∏–∫–∞ –≤—ã–±—Ä–æ—Å–æ–≤** ‚Äî –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–∞ –ø–æ –º–µ—Å—è—Ü–∞–º:
      - –ú–∞—Å—Å–∏–≤ –º–µ—Å—è—Ü–µ–≤ (–Ø–Ω–≤-–î–µ–∫)
      - –§–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –≤—ã–±—Ä–æ—Å—ã (–º–∞—Å—Å–∏–≤ –∑–Ω–∞—á–µ–Ω–∏–π)
      - –ó–∞—è–≤–ª–µ–Ω–Ω—ã–µ –≤—ã–±—Ä–æ—Å—ã (–º–∞—Å—Å–∏–≤ –∑–Ω–∞—á–µ–Ω–∏–π)
    - **–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º** ‚Äî –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∫—Ä—É–≥–æ–≤–æ–π –¥–∏–∞–≥—Ä–∞–º–º—ã:
      - –≠–Ω–µ—Ä–≥–∏—è (%), –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç (%), –ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ (%), –û—Ç—Ö–æ–¥—ã (%)
    - **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º –ø–µ—Ä–∏–æ–¥–æ–º** ‚Äî —Å—Ç–æ–ª–±—á–∞—Ç–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞:
      - –ü–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º (–≠–Ω–µ—Ä–≥–∏—è, –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç, –ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ, –û—Ç—Ö–æ–¥—ã)
      - –ü—Ä–µ–¥—ã–¥—É—â–∏–π –ø–µ—Ä–∏–æ–¥ vs –¢–µ–∫—É—â–∏–π –ø–µ—Ä–∏–æ–¥

- [x] **6.3 Compliance 296-–§–ó —Å—Ç–∞—Ç—É—Å—ã** ‚úÖ
  - `GET /app/api/analytics/compliance` ‚Äî —Å—Ç–∞—Ç—É—Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è:
    - **–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ 296-–§–ó**: "–ü–æ–ª–Ω–æ–µ" | "–ß–∞—Å—Ç–∏—á–Ω–æ–µ" | "–ù–µ—Ç"
    - **–°–≤–æ–µ–≤—Ä–µ–º–µ–Ω–Ω–æ—Å—Ç—å –ø–æ–¥–∞—á–∏**: "–í —Å—Ä–æ–∫" | "–ü—Ä–æ—Å—Ä–æ—á–µ–Ω–æ"
    - **–ü–æ–ª–Ω–æ—Ç–∞ –¥–∞–Ω–Ω—ã—Ö**: –ø—Ä–æ—Ü–µ–Ω—Ç (99.2%)
    - **–ö–∞—á–µ—Å—Ç–≤–æ –æ—Ç—á–µ—Ç–æ–≤**: "–í—ã—Å–æ–∫–æ–µ" | "–°—Ä–µ–¥–Ω–µ–µ" | "–ù–∏–∑–∫–æ–µ"

- [x] **6.4 Export —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å** ‚úÖ
  - `POST /app/api/analytics/export` ‚Äî —ç–∫—Å–ø–æ—Ä—Ç –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö:
    - –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã: Excel (.xlsx), CSV
    - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: –ø–µ—Ä–∏–æ–¥, —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö (KPI, –≥—Ä–∞—Ñ–∏–∫–∏, compliance)
    - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ñ–∞–π–ª–∞ –∏ –≤–æ–∑–≤—Ä–∞—Ç —Å—Å—ã–ª–∫–∏ –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è

- [x] **6.5 –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö –∏ –∞–≥—Ä–µ–≥–∞—Ü–∏—è** ‚úÖ
  - –°—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö:
    - `analytics_events` ‚Äî —Å–æ–±—ã—Ç–∏—è –¥–ª—è —Ç—Ä–µ–∫–∏–Ω–≥–∞
    - `reporting_summary` ‚Äî –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ –ø–µ—Ä–∏–æ–¥–∞–º
    - `dashboard_cache` ‚Äî –∫—ç—à –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞—à–±–æ—Ä–¥–∞
  - **–ê–≥—Ä–µ–≥–∞—Ç–æ—Ä—ã** (cron –∑–∞–¥–∞—á–∏):
    - –ù–æ—á–Ω–∞—è –∞–≥—Ä–µ–≥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ –≤—ã–±—Ä–æ—Å–∞–º
    - –†–∞—Å—á–µ—Ç —Ç—Ä–µ–Ω–¥–æ–≤ –∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏–π
    - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ –¥–∞—à–±–æ—Ä–¥–∞
  - **–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä—ã**:
    - –†–∞—Å—á–µ—Ç –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤ –∏–∑–º–µ–Ω–µ–Ω–∏–π (+5.2%, +12.5% –∏ —Ç.–¥.)
    - –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –≤—ã–±—Ä–æ—Å–æ–≤ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
    - –†–∞—Å—á–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è 296-–§–ó

- [x] **6.6 –î–µ–º–æ-—Ä–µ–∂–∏–º –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏** ‚úÖ
  - –ú–æ–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–æ–≤ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤ `lib/demo-data-seeder.ts`
  - –õ–æ–≥–∏–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è demo/paid —Ä–µ–∂–∏–º–æ–≤ –≤ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏—Ö API
  - –†–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ –≤—ã–±—Ä–æ—Å–∞–º, —Ç—Ä–µ–Ω–¥–∞–º, –ø—Ä–æ–≥—Ä–µ—Å—Å—É

### ‚úÖ **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–¥–∞—á–∏, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –¥–ª—è –±–ª–æ–∫–∞ 6:**
- [x] **Prisma –º–æ–¥–µ–ª–∏ –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏** ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω—ã `AnalyticsEvent`, `ReportingSummary`, `DashboardCache`
- [x] **–°–∏—Å—Ç–µ–º–∞ —Å–æ–±—ã—Ç–∏–π** ‚Äî `lib/analytics-events.ts` –¥–ª—è —Ç—Ä–µ–∫–∏–Ω–≥–∞ –¥–µ–π—Å—Ç–≤–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- [x] **–ê–≥—Ä–µ–≥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö** ‚Äî `lib/analytics-aggregator.ts` —Å –Ω–æ—á–Ω—ã–º–∏ –∑–∞–¥–∞—á–∞–º–∏ –∏ —Ä–∞—Å—á–µ—Ç–æ–º —Ç—Ä–µ–Ω–¥–æ–≤
- [x] **–≠–∫—Å–ø–æ—Ä—Ç –≤ Excel/CSV** ‚Äî –ø–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∫–∏—Ä–∏–ª–ª–∏—Ü—ã –∏ —Å–≤–æ–¥–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- [x] **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî —Å–∏—Å—Ç–µ–º–∞ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞—à–±–æ—Ä–¥–∞ –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –∑–∞–≥—Ä—É–∑–∫–∏
- [x] **–ö–æ–º–ø◊ú◊ô—è–Ω—Å 296-–§–ó** ‚Äî –¥–µ—Ç–∞–ª—å–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏
- [x] **–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –¥–µ–º–æ-–¥–∞–Ω–Ω—ã–µ** ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏

## 7. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏

**üìã –ê—É–¥–∏—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω 2025-09-30. –ü–æ–ª–Ω—ã–π –æ—Ç—á–µ—Ç: `docs/NOTIFICATIONS_AUDIT.md`**

### ‚úÖ –ß—Ç–æ —É–∂–µ –µ—Å—Ç—å:
- ‚úÖ UI –Ω–∞—Å—Ç—Ä–æ–µ–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ Settings.tsx (–≤–∫–ª–∞–¥–∫–∞ "–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è")
- ‚úÖ –ú–æ–¥–µ–ª—å Notification –≤ Prisma –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- ‚úÖ RuSender –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (`lib/rusender.ts`)
- ‚úÖ Email —à–∞–±–ª–æ–Ω—ã –¥–ª—è —Ü–µ–Ω–æ–≤—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (`lib/email-service.ts`)
- ‚úÖ Manager notification —Å–∏—Å—Ç–µ–º–∞ (`lib/manager-notification.ts`)
- ‚úÖ Magic Link —á–µ—Ä–µ–∑ email (—Ä–∞–±–æ—Ç–∞–µ—Ç)

### üéØ –§–∞–∑–∞ 1: Backend –±–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å (PAID —Ä–µ–∂–∏–º)
- [x] **7.1 NotificationPreferences –º–æ–¥–µ–ª—å** ‚úÖ
  - [x] –°–æ–∑–¥–∞—Ç—å Prisma –º–æ–¥–µ–ª—å –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
    - `emailEnabled`, `pushEnabled` - –∫–∞–Ω–∞–ª—ã –¥–æ—Å—Ç–∞–≤–∫–∏
    - `reportsEnabled`, `deadlinesEnabled`, `documentsEnabled` - —Ç–∏–ø—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
    - `deadlineDays` (–º–∞—Å—Å–∏–≤: [30, 7, 1]) - –∑–∞ —Å–∫–æ–ª—å–∫–æ –¥–Ω–µ–π —É–≤–µ–¥–æ–º–ª—è—Ç—å
    - `timezone`, `quietHoursStart/End` - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
  - [x] –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –ë–î (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ `prisma db push`)
  - [x] –î–æ–±–∞–≤–∏—Ç—å —Å–≤—è–∑—å —Å User –º–æ–¥–µ–ª—å

- [x] **7.2 API –Ω–∞—Å—Ç—Ä–æ–µ–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π** ‚úÖ
  - [x] `GET /api/settings/notifications` - –ø–æ–ª—É—á–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - [x] `PUT /api/settings/notifications` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫
  - [x] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ DEMO —Ä–µ–∂–∏–º–∞ (–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏)
  - [x] –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (boolean —Ç–∏–ø—ã, deadlineDays –º–∞—Å—Å–∏–≤, quiet hours –¥–∏–∞–ø–∞–∑–æ–Ω)
  - [x] –ê—É–¥–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –Ω–∞—Å—Ç—Ä–æ–µ–∫ (–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–Ω—Å–æ–ª—å)

- [x] **7.3 –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Settings.tsx –∫ API** ‚úÖ
  - [x] –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏–∑ API –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
  - [x] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –ë–î —á–µ—Ä–µ–∑ API
  - [x] Loading —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
  - [x] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± —É—Å–ø–µ—à–Ω–æ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏

- [x] **7.4 NotificationService** ‚úÖ
  - [x] –°–æ–∑–¥–∞—Ç—å `lib/notification-service.ts`:
    - `createNotification()` - —Å–æ–∑–¥–∞–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ –ë–î
    - `sendNotification()` - –æ—Ç–ø—Ä–∞–≤–∫–∞ —á–µ—Ä–µ–∑ –≤—ã–±—Ä–∞–Ω–Ω—ã–µ –∫–∞–Ω–∞–ª—ã
    - `shouldSendNotification()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - [x] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Prisma –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –ë–î
  - [x] –°–∏—Å—Ç–µ–º–∞ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (LOW/MEDIUM/HIGH/URGENT)
  - [x] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ—Ç–ø—Ä–∞–≤–æ–∫
  - [x] –ú–µ—Ç–æ–¥—ã: markAsRead, markAllAsRead, deleteNotification, getUnreadCount
  - [x] Email templates —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏ –∏ –∫–Ω–æ–ø–∫–∞–º–∏ –¥–µ–π—Å—Ç–≤–∏–π
  - [x] –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏—Ö–∏—Ö —á–∞—Å–æ–≤ (quietHours) –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π

- [x] **7.5 API —Å–ø–∏—Å–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π** ‚úÖ
  - [x] `GET /api/notifications` - —Å–ø–∏—Å–æ–∫ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
  - [x] `GET /api/notifications/unread-count` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö
  - [x] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–∏–ª—å—Ç—Ä–æ–≤: read/unread, by type, date range
  - [x] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ DEMO —Ä–µ–∂–∏–º–∞ —Å –º–æ–∫–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ (5 –ø—Ä–∏–º–µ—Ä–æ–≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π)
  - [x] –ü–∞–≥–∏–Ω–∞—Ü–∏—è —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏ (total, hasNext, hasPrev)

- [x] **7.6 API –æ–ø–µ—Ä–∞—Ü–∏–π —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏** ‚úÖ
  - [x] `PATCH /api/notifications/[id]` - –æ—Ç–º–µ—Ç–∏—Ç—å –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–º
  - [x] `POST /api/notifications/mark-all-read` - –≤—Å–µ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–º–∏
  - [x] `DELETE /api/notifications/[id]` - —É–¥–∞–ª–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
  - [x] –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ (—Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ userId)
  - [x] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ DEMO —Ä–µ–∂–∏–º–∞

### üéØ –§–∞–∑–∞ 2: Email –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- [x] **7.7 Email —à–∞–±–ª–æ–Ω—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π** ‚úÖ
  - [x] –®–∞–±–ª–æ–Ω "–û—Ç—á–µ—Ç –≥–æ—Ç–æ–≤" (`report_ready`)
  - [x] –®–∞–±–ª–æ–Ω "–û—à–∏–±–∫–∞ –æ—Ç—á–µ—Ç–∞" (`report_error`)
  - [x] –®–∞–±–ª–æ–Ω "–ü—Ä–∏–±–ª–∏–∂–µ–Ω–∏–µ –¥–µ–¥–ª–∞–π–Ω–∞" (`deadline_30/7/1_days`)
  - [x] –®–∞–±–ª–æ–Ω "–î–æ–∫—É–º–µ–Ω—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω" (`document_processed`)
  - [x] –®–∞–±–ª–æ–Ω "–û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏" (`document_error`)
  - [x] –®–∞–±–ª–æ–Ω "–°–∏—Å—Ç–µ–º–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ" (`system_alert`)
  - [x] –ï–¥–∏–Ω—ã–π —Å—Ç–∏–ª—å —Å –ª–æ–≥–æ—Ç–∏–ø–æ–º ESG-–õ–∞–π—Ç –∏ –±—Ä–µ–Ω–¥–∏—Ä–æ–≤–∞–Ω–∏–µ–º
  - [x] –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π (–ø–µ—Ä–µ–π—Ç–∏ –∫ –æ—Ç—á–µ—Ç—É/–¥–æ–∫—É–º–µ–Ω—Ç—É)
  - [x] Footer —Å —Å—Å—ã–ª–∫–æ–π –Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ —é—Ä–∏–¥–∏—á–µ—Å–∫–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
  - [x] Responsive –¥–∏–∑–∞–π–Ω –¥–ª—è –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
  - [x] –¢–µ–∫—Å—Ç–æ–≤—ã–µ –≤–µ—Ä—Å–∏–∏ –≤—Å–µ—Ö —à–∞–±–ª–æ–Ω–æ–≤ (–¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤ –±–µ–∑ HTML)
  - [x] –°–æ–∑–¥–∞–Ω `lib/email-templates.ts` —Å –∫–ª–∞—Å—Å–æ–º EmailTemplates

- [x] **7.8 –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è NotificationService —Å RuSender** ‚úÖ
  - [x] –ú–µ—Ç–æ–¥ `sendEmailNotification()` —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –Ω–∞—Å—Ç—Ä–æ–µ–∫
  - [x] Retry –ª–æ–≥–∏–∫–∞ —Å exponential backoff (3 –ø–æ–ø—ã—Ç–∫–∏, 1s ‚Üí 2s ‚Üí 4s)
  - [x] Jitter –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è thundering herd problem
  - [x] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ RuSender:
    - [x] –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤ (402) - retry
    - [x] –û—Ç–ø–∏—Å–∫–∞ –ø–æ–ª—É—á–∞—Ç–µ–ª—è (422 unsubscribed) - no retry
    - [x] –ñ–∞–ª–æ–±–∞ –ø–æ–ª—É—á–∞—Ç–µ–ª—è (422 complained) - no retry
    - [x] Email –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç (422 doesn't exist) - no retry
    - [x] –ù–µ–≤–µ—Ä–Ω—ã–π API –∫–ª—é—á (401) - no retry
    - [x] –°–µ—Ä–≤–∏—Å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω (503) - retry
  - [x] –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –æ—à–∏–±–æ–∫ –Ω–∞ retryable –∏ permanent
  - [x] –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–∂–¥–æ–π –ø–æ–ø—ã—Ç–∫–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏
  - [x] –°–æ–∑–¥–∞–Ω `lib/email-service-with-retry.ts` —Å —Ñ—É–Ω–∫—Ü–∏–µ–π sendEmailWithRetry()
  - [x] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ –≤ NotificationService.sendEmailNotification()

### üéØ –§–∞–∑–∞ 3: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ API
- [x] **7.9 –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤** ‚úÖ
  - [x] `POST /api/documents/upload` - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–µ
  - [x] –°–æ–∑–¥–∞–Ω email —à–∞–±–ª–æ–Ω `DOCUMENT_UPLOADED` –≤ email-templates.ts
  - [x] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å batch —Å–∏—Å—Ç–µ–º–∞ (—Ç–æ–ª—å–∫–æ –¥–ª—è 1-2 –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤)
  - [x] –£—á–µ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫ `documentsEnabled` —á–µ—Ä–µ–∑ NotificationService
  - [x] –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ: fileName, fileSize, documentId, link

- [x] **7.10 –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ OCR worker** ‚úÖ
  - [x] `workers/ocr-worker.ts` - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏
  - [x] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø—Ä–∏ –æ—à–∏–±–∫–µ OCR —Å —á–µ–ª–æ–≤–µ–∫–æ—á–∏—Ç–∞–µ–º—ã–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º
  - [x] –í–∫–ª—é—á–µ–Ω–∏–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç—ã (`/documents` –¥–ª—è —É—Å–ø–µ—Ö–∞, `/documents?status=error` –¥–ª—è –æ—à–∏–±–æ–∫)
  - [x] –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (fileName, textLength, confidence, processingTime)
  - [x] –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (LOW –¥–ª—è —É—Å–ø–µ—Ö–∞, HIGH –¥–ª—è –æ—à–∏–±–æ–∫)
  - [x] –§—É–Ω–∫—Ü–∏—è getErrorMessage() –¥–ª—è –ø–æ–Ω—è—Ç–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Å–æ–æ–±—â–µ–Ω–∏–π –æ–± –æ—à–∏–±–∫–∞—Ö
  - [x] **Batch notification —Å–∏—Å—Ç–µ–º–∞** - –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ —Å–ø–∞–º–∞ –ø—Ä–∏ –º–∞—Å—Å–æ–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–µ:
    - [x] –°–æ–∑–¥–∞–Ω–∞ –º–æ–¥–µ–ª—å DocumentBatch –≤ Prisma –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø–∞–∫–µ—Ç–æ–≤ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
    - [x] –°–æ–∑–¥–∞–Ω `batch-notification-service.ts` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞–∫–µ—Ç–Ω—ã–º–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏
    - [x] –õ–æ–≥–∏–∫–∞: 1-2 –¥–æ–∫—É–º–µ–Ω—Ç–∞ ‚Üí –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, 3+ –¥–æ–∫—É–º–µ–Ω—Ç–∞ ‚Üí –æ–¥–Ω–æ —Å–≤–æ–¥–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
    - [x] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ OCR worker: updateBatchProgress() –∏ shouldSendIndividualNotification()
    - [x] API endpoint `/api/documents/create-batch` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è batch –ø–µ—Ä–µ–¥ –∑–∞–≥—Ä—É–∑–∫–æ–π
    - [x] –û–±–Ω–æ–≤–ª–µ–Ω `useFileUpload` —Ö—É–∫ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è batch –ø—Ä–∏ 3+ —Ñ–∞–π–ª–∞—Ö
    - [x] –û–±–Ω–æ–≤–ª–µ–Ω `/api/documents/upload` –¥–ª—è —Å–≤—è–∑—ã–≤–∞–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Å batch
    - [x] –°–≤–æ–¥–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ —Ä—É—Å—Å–∫–∏–º–∏ —Ñ–æ—Ä–º–∞–º–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —á–∏—Å–ª–∞

- [x] **7.11 –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –æ—Ç—á–µ—Ç–æ–≤** ‚úÖ
  - [x] `PUT /api/reports/[id]` - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç–∞—Ç—É—Å–∞ –Ω–∞ READY
  - [x] –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ —Å—Ç–∞—Ç—É—Å–∞ (–æ—Ç–ø—Ä–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ DRAFT ‚Üí READY)
  - [x] –£—á–µ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫ `reportsEnabled` —á–µ—Ä–µ–∑ NotificationService
  - [x] –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ: reportId, reportName, reportType, totalEmissions, link
  - [x] –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç MEDIUM –¥–ª—è –≥–æ—Ç–æ–≤—ã—Ö –æ—Ç—á—ë—Ç–æ–≤
  - [ ] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–µ –≤ —Ä–µ–≥—É–ª—è—Ç–æ—Ä (–±—É–¥—É—â–µ–µ, –∫–æ–≥–¥–∞ –±—É–¥–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è)

- [x] **7.12 Cron job –¥–ª—è –¥–µ–¥–ª–∞–π–Ω–æ–≤** ‚úÖ
  - [x] –°–æ–∑–¥–∞–Ω `scripts/check-deadlines.ts` —Å –ø–æ–ª–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏
  - [x] –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç—á–µ—Ç–æ–≤ —Å –¥–µ–¥–ª–∞–π–Ω–∞–º–∏ —á–µ—Ä–µ–∑ 30/7/1 –¥–µ–Ω—å
  - [x] –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ (DEADLINE_30_DAYS/7_DAYS/1_DAY)
  - [x] –£—á–µ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫ `deadlinesEnabled` –∏ –º–∞—Å—Å–∏–≤–∞ `deadlineDays`
  - [x] –†–∞–∑–Ω—ã–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã: LOW (30 –¥–Ω–µ–π), MEDIUM (7 –¥–Ω–µ–π), URGENT (1 –¥–µ–Ω—å)
  - [x] –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ
  - [x] –°–æ–∑–¥–∞–Ω API route `/api/cron/check-deadlines` –¥–ª—è Vercel Cron
  - [x] –ó–∞—â–∏—Ç–∞ endpoint —á–µ—Ä–µ–∑ CRON_SECRET
  - [x] –ù–∞—Å—Ç—Ä–æ–µ–Ω vercel.json –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –≤ 9:00 MSK (6:00 UTC)
  - [x] –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞
  - [x] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ–º —Ä–∞–±–æ—Ç—ã
  - [x] –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä—É—á–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ —á–µ—Ä–µ–∑ POST —Å ADMIN_SECRET

### üéØ –§–∞–∑–∞ 4: UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- [x] **7.13 NotificationBell –∫–æ–º–ø–æ–Ω–µ–Ω—Ç** ‚úÖ
  - [x] –°–æ–∑–¥–∞—Ç—å `app/components/NotificationBell.tsx`
  - [x] –ò–∫–æ–Ω–∫–∞ –∫–æ–ª–æ–∫–æ–ª—å—á–∏–∫–∞ –≤ header —Å badge –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö
  - [x] Dropdown —Å –ø–æ—Å–ª–µ–¥–Ω–∏–º–∏ 5 —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏
  - [x] –ö–Ω–æ–ø–∫–∞ "–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ" ‚Üí –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ `/notifications`
  - [x] –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö (polling –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥)
  - [x] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ Layout.tsx –≤ –ø—Ä–∞–≤–æ–π —á–∞—Å—Ç–∏ header'–∞

- [x] **7.14 Dropdown —Å–ø–∏—Å–æ–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π** ‚úÖ
  - [x] –ö–æ–º–ø–∞–∫—Ç–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (—ç–º–æ–¥–∑–∏ –∏–∫–æ–Ω–∫–∞, –∑–∞–≥–æ–ª–æ–≤–æ–∫, –≤—Ä–µ–º—è)
  - [x] –ö–ª–∏–∫ –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ ‚Üí –ø–µ—Ä–µ—Ö–æ–¥ –∫ —Å–≤—è–∑–∞–Ω–Ω–æ–º—É –æ–±—ä–µ–∫—Ç—É
  - [x] –û—Ç–º–µ—Ç–∫–∞ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–º –ø—Ä–∏ –∫–ª–∏–∫–µ
  - [x] –ö–Ω–æ–ø–∫–∞ "–û—Ç–º–µ—Ç–∏—Ç—å –≤—Å–µ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–º–∏"
  - [x] Empty state –∫–æ–≥–¥–∞ –Ω–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
  - [x] –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö (—Å–∏–Ω—è—è —Ç–æ—á–∫–∞ + –≥–æ–ª—É–±–æ–π —Ñ–æ–Ω)
  - [x] –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π (–æ—Ç–º–µ—Ç–∏—Ç—å –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–º, —É–¥–∞–ª–∏—Ç—å)

- [x] **7.15 –°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—Å–µ—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π** ‚úÖ *(–æ—Ç–º–µ–Ω–µ–Ω–∞ - –∏–∑–±—ã—Ç–æ—á–Ω–∞)*
  - [x] Dropdown NotificationBell —É–∂–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
  - [x] –û—Ç–¥–µ–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç –≤—Å–µ –≤ dropdown
  - [x] –†–µ—à–µ–Ω–∏–µ: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π NotificationBell –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã

- [x] **7.16 –ú–æ–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è DEMO** ‚úÖ
  - [x] –î–æ–±–∞–≤–ª–µ–Ω–æ 5 –ø—Ä–∏–º–µ—Ä–æ–≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ `lib/demo-data-seeder.ts`
  - [x] –†–∞–∑–Ω—ã–µ —Ç–∏–ø—ã: document_processed, report_ready, deadline_7_days, document_uploaded, system_alert
  - [x] 2 –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö + 3 –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö –¥–ª—è —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ—Å—Ç–∏
  - [x] –°–≤—è–∑—å —Å –¥–µ–º–æ-–¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏ –∏ –¥–µ–º–æ-–æ—Ç—á—ë—Ç–∞–º–∏
  - [x] –†–∞–∑–Ω–æ–µ –≤—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è (–æ—Ç 2 —á–∞—Å–æ–≤ –¥–æ 2 –¥–Ω–µ–π –Ω–∞–∑–∞–¥)
  - [x] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ –≤ `/api/notifications` —á–µ—Ä–µ–∑ –∏–º–ø–æ—Ä—Ç DEMO_NOTIFICATIONS

### üéØ –§–∞–∑–∞ 5: Web Push (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –ø–æ—Å–ª–µ –±–∞–∑–æ–≤–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏)
- [ ] **7.17 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ VAPID**
  - [ ] –ì–µ–Ω–µ—Ä–∞—Ü–∏—è VAPID –∫–ª—é—á–µ–π
  - [ ] –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–ª—é—á–µ–π –≤ `.env`
  - [ ] –°–æ–∑–¥–∞–Ω–∏–µ endpoint –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è public key

- [ ] **7.18 Service Worker**
  - [ ] –°–æ–∑–¥–∞—Ç—å `public/sw.js` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ push
  - [ ] –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è Service Worker –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
  - [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Ö–æ–¥—è—â–∏—Ö push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
  - [ ] –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞—Ç–∏–≤–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–Ω—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

- [ ] **7.19 Push –ø–æ–¥–ø–∏—Å–∫–∞ –≤ Settings**
  - [ ] –ó–∞–ø—Ä–æ—Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
  - [ ] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ push subscription –≤ –ë–î
  - [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ push
  - [ ] –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∞–º–∏ (—É–¥–∞–ª–µ–Ω–∏–µ, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ)

- [ ] **7.20 –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è push –≤ NotificationService**
  - [ ] –ú–µ—Ç–æ–¥ `sendPushNotification()`
  - [ ] –û—Ç–ø—Ä–∞–≤–∫–∞ —á–µ—Ä–µ–∑ Web Push API
  - [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å—Ç–µ–∫—à–∏—Ö –ø–æ–¥–ø–∏—Å–æ–∫
  - [ ] Fallback –Ω–∞ email –µ—Å–ª–∏ push –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω

### üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- [ ] **7.21 Rate limiting**
  - [ ] –õ–∏–º–∏—Ç—ã –Ω–∞ API —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (100 req/min –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
  - [ ] –õ–∏–º–∏—Ç—ã –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (–ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ —Å–ø–∞–º–∞)

- [ ] **7.22 –ò–Ω–¥–µ–∫—Å—ã –ë–î**
  - [ ] `idx_notifications_user_read` –Ω–∞ (userId, read)
  - [ ] `idx_notifications_user_created` –Ω–∞ (userId, createdAt DESC)
  - [ ] `idx_notifications_type` –Ω–∞ (type)

- [ ] **7.23 –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
  - [ ] Unit —Ç–µ—Å—Ç—ã –¥–ª—è NotificationService
  - [ ] Unit —Ç–µ—Å—Ç—ã –¥–ª—è email —à–∞–±–ª–æ–Ω–æ–≤
  - [ ] Integration —Ç–µ—Å—Ç—ã –¥–ª—è API endpoints
  - [ ] E2E —Ç–µ—Å—Ç—ã –¥–ª—è UI —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [x] **–ê—É–¥–∏—Ç —Å–∏—Å—Ç–µ–º—ã** - `docs/NOTIFICATIONS_AUDIT.md`
- [ ] **API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è endpoints
- [ ] **Email —à–∞–±–ª–æ–Ω—ã** - –ø—Ä–∏–º–µ—Ä—ã –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- [ ] **–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏** - –∫–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ç–∏–ø —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

### üö¶ –°—Ç–∞—Ç—É—Å: **–í –†–ê–ó–†–ê–ë–û–¢–ö–ï** (15-16 —á–∞—Å–æ–≤ —Ä–∞–±–æ—Ç—ã)
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –í—ã—Å–æ–∫–∏–π (–Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è PAID —Ä–µ–∂–∏–º–∞)
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: –†–∞–∑–¥–µ–ª 1 (–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è), –†–∞–∑–¥–µ–ª 5 (–æ—Ç—á–µ—Ç—ã), –†–∞–∑–¥–µ–ª 3 (–¥–æ–∫—É–º–µ–Ω—Ç—ã)

## 8. –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ compliance
- [ ] **8.1 –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –ü–î–Ω** ‚Äî Fernet –∫–ª—é—á, `lib/fernet.ts`, —à–∏—Ñ—Ä–æ–≤–∞—Ç—å –ò–ù–ù, email, —Ç–µ–ª–µ—Ñ–æ–Ω.
- [ ] **8.2 Rate limiting + SmartCaptcha** ‚Äî `lib/rate-limiter.ts`, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Yandex SmartCaptcha –¥–ª—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö —Ñ–æ—Ä–º (–ª–æ–≥–∏–Ω, –º–∞–≥–∏—á–µ—Å–∫–∏–µ —Å—Å—ã–ª–∫–∏, –∑–∞—è–≤–∫–∏).
- [ ] **8.3 Security headers & CSP** ‚Äî `middleware/security-headers.ts`: CSP, HSTS, X-Frame-Options, Referrer-Policy.
- [ ] **8.4 API key management** ‚Äî `lib/api-key-manager.ts`, —Ä–æ—Ç–∞—Ü–∏—è, –ª–∏–º–∏—Ç—ã, whitelist –ø–æ IP.
- [ ] **8.5 –ê–∫—Ç–∏–≤–Ω—ã–µ —Å–µ—Å—Å–∏–∏**
  - `GET /app/api/settings/security/sessions`: —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞/–±—Ä–∞—É–∑–µ—Ä—ã, –≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏, —Ñ—É–Ω–∫—Ü–∏—è ¬´–ó–∞–≤–µ—Ä—à–∏—Ç—å¬ª.
- [ ] **8.6 Session timeout**
  - `PATCH /app/api/settings/security/session-timeout` (15/30/60/480 –º–∏–Ω—É—Ç).
- [ ] **8.7 2FA/Passkey toggle**
  - –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã –≤–∫–ª—é—á–µ–Ω–∏—è/–≤—ã–∫–ª—é—á–µ–Ω–∏—è, —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞.
- [ ] **8.8 –Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã** ‚Äî `/app/api/legal/*` (terms, privacy, data-processing, offer) + consent manager (–∏—Å—Ç–æ—Ä–∏—è —Å–æ–≥–ª–∞—Å–∏–π).

## 9. –≠–∫—Å–ø–æ—Ä—Ç, –∏–º–ø–æ—Ä—Ç –∏ ¬´–û–ø–∞—Å–Ω–∞—è –∑–æ–Ω–∞¬ª

### ‚úÖ –ü–û–õ–ù–û–°–¢–¨–Æ –ì–û–¢–û–í–û:

- [x] **9.1 –≠–∫—Å–ø–æ—Ä—Ç** ‚úÖ
  - [x] `GET /api/settings/data/export/reports` ‚Äî –∞—Ä—Ö–∏–≤ PDF –æ—Ç—á—ë—Ç–æ–≤ (–≥–µ–Ω–µ—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ Puppeteer)
  - [x] `GET /api/settings/data/export/documents` ‚Äî –∞—Ä—Ö–∏–≤ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ (—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º)
  - [x] `GET /api/settings/data/export/profile` ‚Äî JSON —É—á—ë—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (–ø–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
  - [x] `GET /api/settings/data/export/full` ‚Äî –æ–±—ä–µ–¥–∏–Ω—ë–Ω–Ω—ã–π –∞—Ä—Ö–∏–≤ (–≤—Å–µ –¥–∞–Ω–Ω—ã–µ –æ–¥–Ω–∏–º ZIP + README)
  - [x] UI –∫–Ω–æ–ø–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω—ã —Å loading —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∑–∞–≥—Ä—É–∑–∫–æ–π —Ñ–∞–π–ª–æ–≤
  - [x] –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∂–∏–º–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (DEMO –±–ª–æ–∫–∏—Ä—É–µ—Ç —ç–∫—Å–ø–æ—Ä—Ç)
  - [x] –ê—É–¥–∏—Ç –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —ç–∫—Å–ø–æ—Ä—Ç–∞

- [x] **9.2 –ò–º–ø–æ—Ä—Ç** ‚úÖ
  - [x] `POST /api/settings/data/import/excel` ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ Excel/CSV —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –º–∞–ø–ø–∏–Ω–≥–æ–º –∫–æ–ª–æ–Ω–æ–∫
  - [x] –≠–≤—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ñ–∞–π–ª–∞ (–∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ–ª–æ–Ω–æ–∫)
  - [x] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ OCRResult –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –æ—Ç—á—ë—Ç–∞—Ö
  - [x] UI –∫–Ω–æ–ø–∫–∞ —Å file picker –∏ –æ—Ç—á—ë—Ç–æ–º –æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö –∏–º–ø–æ—Ä—Ç–∞
  - [x] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–æ—Ä–º–∞—Ç–æ–≤: .xlsx, .xls, .csv

- [x] **9.3 –û–ø–∞—Å–Ω–∞—è –∑–æ–Ω–∞** ‚úÖ
  - [x] `DELETE /api/settings/data/documents` ‚Äî –ø–æ–ª–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ (—Ñ–æ–Ω–æ–≤–æ, –∞—É–¥–∏—Ç)
    - [x] –î–≤–æ–π–Ω–æ–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ (–≤–≤–æ–¥ —Ñ—Ä–∞–∑—ã "–£–î–ê–õ–ò–¢–¨ –í–°–ï –î–û–ö–£–ú–ï–ù–¢–´")
    - [x] –ö–∞—Å–∫–∞–¥–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –∏–∑ –ë–î (Document + OCRResult)
    - [x] –§–∏–∑–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ —Å –¥–∏—Å–∫–∞
    - [x] –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –∞—É–¥–∏—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏
  - [x] `DELETE /api/settings/data/account` ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞ (soft-delete 30 –¥–Ω–µ–π)
    - [x] –¢—Ä–æ–π–Ω–æ–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ (—Ñ—Ä–∞–∑–∞ + email)
    - [x] Soft-delete –Ω–∞ 30 –¥–Ω–µ–π (deletedAt + –∏–∑–º–µ–Ω–µ–Ω–∏–µ email)
    - [x] `POST /api/settings/data/account` ‚Äî –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞ (–≤ —Ç–µ—á–µ–Ω–∏–µ 30 –¥–Ω–µ–π)
    - [x] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π logout –ø–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è
    - [x] –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –∞—É–¥–∏—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏

### üì¶ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: JSZip –¥–ª—è –∞—Ä—Ö–∏–≤–æ–≤, xlsx –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ Excel/CSV
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Ç—Ä–µ–±—É—é—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, DEMO —Ä–µ–∂–∏–º –±–ª–æ–∫–∏—Ä—É–µ—Ç –æ–ø–∞—Å–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
- **–ê—É–¥–∏—Ç**: –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è —Å email –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ timestamp
- **UX**: Loading –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã, –ø—Ä–æ–º–ø—Ç—ã –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤

## 10. Demo mode, –∑–∞—è–≤–∫–∏ –∏ —Ä—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞–º–∏
- [x] **10.1 –†–µ–∂–∏–º—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** ‚úÖ
  - [x] `/app/api/user/mode` ‚Äî demo/trial/paid/expired.
  - [x] `lib/demo-data-seeder.ts` ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ demo.
- [x] **10.2 –ó–∞—è–≤–∫–∏ –Ω–∞ –¥–æ—Å—Ç—É–ø** ‚úÖ
  - [x] `POST /app/api/trial-requests` (–ø–æ–ª—è: –∫–æ–º–ø–∞–Ω–∏—è, –§–ò–û, email, —Ç–µ–ª–µ—Ñ–æ–Ω, —Ä–∞–∑–º–µ—Ä –∫–æ–º–ø–∞–Ω–∏–∏, –ø–ª–∞–Ω, —Å–æ–æ–±—â–µ–Ω–∏–µ).
  - [x] `GET /app/api/trial-requests` (–ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞—è–≤–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è).
  - [x] –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ "–ü–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø" –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Ç–∞—Ä–∏—Ñ–æ–≤.
  - [ ] **TODO –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –∞–¥–º–∏–Ω–∫–∏**: `/app/api/trial-requests/[id]` (—Å–º–µ–Ω–∞ —Å—Ç–∞—Ç—É—Å–∞, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏, –∏—Å—Ç–æ—Ä–∏—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π).
- [ ] **10.3 –†—É—á–Ω—ã–µ –¥–æ—Å—Ç—É–ø—ã**
  - **TODO –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –∞–¥–º–∏–Ω–∫–∏**: `app/api/admin/features/route.ts`: –≤–∫–ª—é—á–µ–Ω–∏–µ OCR/–æ—Ç—á—ë—Ç–æ–≤/—ç–∫—Å–ø–æ—Ä—Ç–∞/–∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –∏ –ª–∏–º–∏—Ç–æ–≤ (–∫–æ–ª-–≤–æ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤/–æ—Ç—á—ë—Ç–æ–≤ –≤ –º–µ—Å—è—Ü).
- [x] **10.4 –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –º–µ–Ω–µ–¥–∂–µ—Ä—É** ‚úÖ
  - [x] Email/Slack/Telegram –æ –Ω–æ–≤–æ–π –∑–∞—è–≤–∫–µ —á–µ—Ä–µ–∑ `lib/manager-notification.ts`.
  - [x] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞—è–≤–∫–∏.
  - [ ] **TODO**: –†–µ–∞–ª—å–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (–ø–æ–∫–∞ —Ç–æ–ª—å–∫–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ):
    - [ ] Email –Ω–∞ –º–µ–Ω–µ–¥–∂–µ—Ä–∞ (SendGrid/Mailgun)
    - [ ] Telegram –±–æ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (webhook)
    - [ ] Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ admin-–ø–∞–Ω–µ–ª—å
    - [ ] SMS —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∑–∞—è–≤–æ–∫

## 11. –û—á–µ—Ä–µ–¥–∏, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] **11.1 Queue manager** ‚Äî `lib/queue.ts`, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è pg-boss (singleton, healthcheck).
- [ ] **11.2 Health API** ‚Äî `/app/api/health` (–ë–î, –æ—á–µ—Ä–µ–¥—å, OCR, S3, email).
- [ ] **11.3 Structured logging** ‚Äî `lib/structured-logger.ts`, –ª–æ–≥–≥–µ—Ä—ã api/queue/worker (JSON, —Ä–æ—Ç–∞—Ü–∏—è, trace id).
- [ ] **11.4 Metrics exporter** ‚Äî Prometheus/Yandex Monitoring (`scripts/metrics-exporter.js`).

## 12. –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏—è
- [ ] **12.1 Docker** ‚Äî multi-stage `Dockerfile`, –æ—Ç–¥–µ–ª—å–Ω—ã–π `Dockerfile.worker`, env-—Ñ–∞–π–ª—ã.
- [ ] **12.2 Compose** ‚Äî `docker-compose.prod.yml` (Next.js, worker, Nginx, pg-boss dashboard –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ).
- [ ] **12.3 –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è `.env`, secrets management.
- [ ] **12.4 –ë—ç–∫–∞–ø—ã** ‚Äî `scripts/backup-database.sh`, –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ, –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–µ –ø–æ–ª–Ω—ã–µ, S3-—Ö—Ä–∞–Ω–∏–ª–∏—â–µ, –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è.
- [ ] **12.5 Disaster recovery** ‚Äî –ø–ª–∞–Ω, RTO/RPO, failover, –∞–ª–µ—Ä—Ç—ã –ø—Ä–æ–≤–∞–ª–æ–≤ –±—ç–∫–∞–ø–æ–≤.
- [ ] **12.6 Performance** ‚Äî –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è Tesseract –ø–æ–¥ 10% CPU, batching, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ OCR, connection pooling (Prisma, pg-boss), advisory locks.
- [ ] **12.7 API –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è** ‚Äî –ø–∞–≥–∏–Ω–∞—Ü–∏—è, cursor-based, –≤—ã–±–æ—Ä –ø–æ–ª–µ–π, gzip/brotli, ETag, skeleton data generator.

## 13. –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã
1. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –≤—Ö–æ–¥–∞ (—Ä–∞–∑–¥–µ–ª—ã 1, 8).
2. –î–æ–∫—É–º–µ–Ω—Ç—ã + OCR pipeline (—Ä–∞–∑–¥–µ–ª—ã 3‚Äì4).
3. –û—Ç—á—ë—Ç—ã 296-–§–ó –∏ –¥–µ–¥–ª–∞–π–Ω—ã (—Ä–∞–∑–¥–µ–ª 5).
4. –û—á–µ—Ä–µ–¥–∏/–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (—Ä–∞–∑–¥–µ–ª 11).
5. Demo mode –∏ –∑–∞—è–≤–æ—á–Ω–∞—è –ª–æ–≥–∏–∫–∞ (—Ä–∞–∑–¥–µ–ª 10).
6. –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –¥–∞—à–±–æ—Ä–¥ (—Ä–∞–∑–¥–µ–ª 6).
7. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏ —ç–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç (—Ä–∞–∑–¥–µ–ª—ã 7, 9).
8. –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –ø—Ä–∞–≤–æ–≤—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã (—Ä–∞–∑–¥–µ–ª—ã 8, 12).

## 14. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è OCR –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö (2025-10-01)

### ‚úÖ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- [x] **S3 –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** ‚Äî –∏—Å–ø—Ä–∞–≤–ª–µ–Ω –±–∞–≥ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤
  - –ü—Ä–æ–±–ª–µ–º–∞: —Ñ–∞–π–ª—ã —Å–æ—Ö—Ä–∞–Ω—è–ª–∏—Å—å –ª–æ–∫–∞–ª—å–Ω–æ —á–µ—Ä–µ–∑ `fs/promises` –≤–º–µ—Å—Ç–æ Yandex Object Storage
  - –†–µ—à–µ–Ω–∏–µ: –æ–±–Ω–æ–≤–ª–µ–Ω `app/api/documents/upload/route.ts` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `uploadFile()` –∏–∑ `lib/s3.ts`
  - –§–∞–π–ª—ã —Ç–µ–ø–µ—Ä—å –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –≤ –æ–±–ª–∞–∫–æ —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏ –∫–ª—é—á–∞–º–∏
  - –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Ö—Ä–∞–Ω–∏—Ç S3 URLs –≤–º–µ—Å—Ç–æ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –ø—É—Ç–µ–π

### ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏:
- [x] **organization-validator.ts** ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è 8 –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π –¥–ª—è 296-–§–ó:
  - –ò–ù–ù —Å checksum –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π (10/12 —Ü–∏—Ñ—Ä)
  - –û–ì–†–ù —Å checksum –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π (13/15 —Ü–∏—Ñ—Ä)
  - –ö–ü–ü, –ø–æ–ª–Ω–æ–µ –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ, —é—Ä–∏–¥–∏—á–µ—Å–∫–∏–π –∞–¥—Ä–µ—Å
  - –û–ö–í–≠–î, –§–ò–û —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—è, –¥–æ–ª–∂–Ω–æ—Å—Ç—å —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—è
  - –§—É–Ω–∫—Ü–∏–∏: `validateOrganizationData()`, `validateInn()`, `validateOgrn()`

- [x] **check-organization-completeness.ts** ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –æ—Ç—á–µ—Ç–∞:
  - `checkOrganizationCompleteness(userId)` ‚Äî –ø–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö
  - `ensureOrganizationComplete(userId)` ‚Äî helper –¥–ª—è API endpoints
  - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ `app/api/reports/route.ts` (POST) ‚Äî –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –æ—Ç—á–µ—Ç–∞ –ø—Ä–∏ –Ω–µ–ø–æ–ª–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

- [x] **OrganizationDataModal.tsx** ‚Äî React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞:
  - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏—Ö –ø–æ–ª–µ–π
  - –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –ø–æ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—é –¥–∞–Ω–Ω—ã—Ö
  - –ö–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ—Ö–æ–¥–∞ –≤ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ warnings (—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏)

### ‚úÖ –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –µ–¥–∏–Ω–∏—Ü –∏–∑–º–µ—Ä–µ–Ω–∏—è:
- [x] **unit-conversion.ts** ‚Äî —É—Ç–∏–ª–∏—Ç—ã –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –¥–ª—è —Ä–∞—Å—á–µ—Ç–æ–≤ 296-–§–ó:
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π: –æ–±—ä–µ–º, –º–∞—Å—Å–∞, —ç–Ω–µ—Ä–≥–∏—è, —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ
  - –§—É–Ω–∫—Ü–∏—è `convertUnit()` ‚Äî –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –º–µ–∂–¥—É –ª—é–±—ã–º–∏ –µ–¥–∏–Ω–∏—Ü–∞–º–∏
  - –§—É–Ω–∫—Ü–∏—è `convertToStandardUnits()` ‚Äî –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ –∫ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º 296-–§–ó:
    - –û–±—ä–µ–º ‚Üí —Ç—ã—Å.–º¬≥
    - –ú–∞—Å—Å–∞ ‚Üí —Ç
    - –≠–Ω–µ—Ä–≥–∏—è ‚Üí –ú–í—Ç¬∑—á
    - –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ ‚Üí –∫–º
  - –§—É–Ω–∫—Ü–∏—è `convertLitersToTons()` ‚Äî –∞–≤—Ç–æ–∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –∂–∏–¥–∫–æ–≥–æ —Ç–æ–ø–ª–∏–≤–∞ —Å —É—á–µ—Ç–æ–º –ø–ª–æ—Ç–Ω–æ—Å—Ç–∏
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö –µ–¥–∏–Ω–∏—Ü: –ª, —Ç, –º¬≥, —Ç—ã—Å.–º¬≥, –∫–í—Ç¬∑—á, –ú–í—Ç¬∑—á, –ì–∫–∞–ª

### ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –∏–∑–≤–ª–µ—á–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö:
- [x] **data-validation.ts** ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ OCR –¥–∞–Ω–Ω—ã—Ö:
  - `validateFuelData()` ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –æ —Ç–æ–ø–ª–∏–≤–µ
  - `validateElectricityData()` ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è —ç–ª–µ–∫—Ç—Ä–æ—ç–Ω–µ—Ä–≥–∏–∏
  - `validateTransportData()` ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
  - `validateExtractedData()` ‚Äî –æ–±—â–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π
  - –ü—Ä–æ–≤–µ—Ä–∫–∏:
    - –ù–∞–ª–∏—á–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π
    - –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –µ–¥–∏–Ω–∏—Ü –∏–∑–º–µ—Ä–µ–Ω–∏—è
    - –ü–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ –±–æ–ª—å—à–∏–µ/–º–∞–ª—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
    - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
  - –í–æ–∑–≤—Ä–∞—Ç: errors (–±–ª–æ–∫–∏—Ä—É—é—â–∏–µ), warnings (—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏), normalizedData

### ‚úÖ XML –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –¥–ª—è —Ä–µ–≥—É–ª—è—Ç–æ—Ä–∞:
- [x] **xml-report-generator.ts** ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è XML –æ—Ç—á–µ—Ç–æ–≤ 296-–§–ó:
  - –§–æ—Ä–º–∞—Ç –¥–ª—è –ø–æ–¥–∞—á–∏ –≤ –†–æ—Å–ø—Ä–∏—Ä–æ–¥–Ω–∞–¥–∑–æ—Ä
  - –§—É–Ω–∫—Ü–∏—è `generateXMLReport()` ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è XML –¥–æ–∫—É–º–µ–Ω—Ç–∞
  - –§—É–Ω–∫—Ü–∏—è `validateReportData()` ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø–µ—Ä–µ–¥ –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö –ø–∞—Ä–Ω–∏–∫–æ–≤—ã—Ö –≥–∞–∑–æ–≤ (CO‚ÇÇ, CH‚ÇÑ, N‚ÇÇO)
  - XML schema: –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è, –ø–µ—Ä–∏–æ–¥, –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –≤—ã–±—Ä–æ—Å–æ–≤, –ø–æ–¥–ø–∏—Å—å
  - –≠–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª–æ–≤ XML
  - –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∏—Å–µ–ª –ø–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É

- [x] **parsers/xml-parser.ts** ‚Äî –ø–∞—Ä—Å–∏–Ω–≥ XML –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤:
  - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∏–∑ XML
  - –ü–∞—Ä—Å–∏–Ω–≥ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –≤—ã–±—Ä–æ—Å–æ–≤
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ —Ç–µ–≥–æ–≤ (—Ä—É—Å—Å–∫–∏–µ/–∞–Ω–≥–ª–∏–π—Å–∫–∏–µ)
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø–∞—Ä—Å–∏–Ω–≥–∞

### ‚úÖ –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–∞—Ä–Ω–∏–∫–æ–≤—ã—Ö –≥–∞–∑–æ–≤:
- [x] **emission-data-371.ts** ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è CH‚ÇÑ –∏ N‚ÇÇO:
  - –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ª—è `ch4` –∏ `n2o` –≤ `EmissionFactor` –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
  - `GLOBAL_WARMING_POTENTIAL` –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã:
    - CO‚ÇÇ: 1 (–±–∞–∑–æ–≤—ã–π)
    - CH‚ÇÑ: 28 (–≤ 28 —Ä–∞–∑ —Å–∏–ª—å–Ω–µ–µ CO‚ÇÇ)
    - N‚ÇÇO: 265 (–≤ 265 —Ä–∞–∑ —Å–∏–ª—å–Ω–µ–µ CO‚ÇÇ)
  - –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã –¥–ª—è –ø—Ä–∏—Ä–æ–¥–Ω–æ–≥–æ –≥–∞–∑–∞: CO‚ÇÇ=1.97, CH‚ÇÑ=0.001, N‚ÇÇO=0.0001 —Ç/—Ç—ã—Å.–º¬≥
  - –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã –¥–ª—è —É–≥–ª—è: CO‚ÇÇ=2.71, CH‚ÇÑ=0.002, N‚ÇÇO=0.0015 —Ç/—Ç
  - –§—É–Ω–∫—Ü–∏—è `calculateCO2Equivalent()` ‚Äî —Ä–∞—Å—á–µ—Ç CO‚ÇÇ-—ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–∞
  - –§—É–Ω–∫—Ü–∏—è `calculateFuelEmissionsDetailed()` ‚Äî –¥–µ—Ç–∞–ª—å–Ω—ã–π —Ä–∞—Å—á–µ—Ç –≤—Å–µ—Ö –≥–∞–∑–æ–≤:
    - –í–æ–∑–≤—Ä–∞—Ç: `{ co2, ch4, n2o, co2Equivalent }`
    - –£—á–µ—Ç –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–∞ –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ –ø–æ—Ç–µ–ø–ª–µ–Ω–∏—è (GWP)

### ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–º–ø—Ç–æ–≤ –∏ –ø–∞—Ä—Å–µ—Ä–æ–≤:
- [x] **foundation-models-client.ts** ‚Äî –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã –ø—Ä–æ–º–ø—Ç—ã OCR:
  - ‚úÖ –Ø–≤–Ω–æ —É–∫–∞–∑–∞–Ω–æ: –ù–ï –∏–∑–≤–ª–µ–∫–∞—Ç—å –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã (EF, OF, k, NCV)
  - ‚úÖ –Ø–≤–Ω–æ —É–∫–∞–∑–∞–Ω–æ: –ù–ï –∏–∑–≤–ª–µ–∫–∞—Ç—å —Ä–µ–∫–≤–∏–∑–∏—Ç—ã (–ò–ù–ù, –û–ì–†–ù, –ö–ü–ü)
  - ‚úÖ –ò–∑–≤–ª–µ–∫–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∏—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ —Ä–∞—Å—Ö–æ–¥–µ —Ä–µ—Å—É—Ä—Å–æ–≤
  - –°—Ç—Ä–æ–∫–∞ 121-123: "–ù–ï –∏–∑–≤–ª–µ–∫–∞–π: EF, OF, k, NCV - –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã (–æ–Ω–∏ —É–∂–µ –µ—Å—Ç—å –≤ —Å–∏—Å—Ç–µ–º–µ!)"

### üìä –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á (2025-10-01):
- –°–æ–∑–¥–∞–Ω–æ –Ω–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤: 7
- –û–±–Ω–æ–≤–ª–µ–Ω–æ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ñ–∞–π–ª–æ–≤: 4
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –±–∞–≥–æ–≤: 1 (S3 –∑–∞–≥—Ä—É–∑–∫–∞)
- –î–æ–±–∞–≤–ª–µ–Ω–æ —Ñ—É–Ω–∫—Ü–∏–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏: 15+
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–∞—Ä–Ω–∏–∫–æ–≤—ã—Ö –≥–∞–∑–æ–≤: CO‚ÇÇ + CH‚ÇÑ + N‚ÇÇO
- –°—Ç—Ä–æ–∫ –∫–æ–¥–∞ –¥–æ–±–∞–≤–ª–µ–Ω–æ: ~1800

## 15. –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è
- **–û—Ç–ø—Ä–∞–≤–∫–∞ –æ—Ç—á–µ—Ç–æ–≤ –≤ —Ä–µ–≥—É–ª—è—Ç–æ—Ä** ‚Äî –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–º–∏ —Ä–æ—Å—Å–∏–π—Å–∫–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏ –ø–æ–¥–∞—á–∏ –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç–∏ –ø–æ 296-–§–ó:
  - –°—Ç–∞—Ç—É—Å—ã `SUBMITTED` (–æ—Ç–ø—Ä–∞–≤–ª–µ–Ω) –∏ `APPROVED` (—É—Ç–≤–µ—Ä–∂–¥–µ–Ω —Ä–µ–≥—É–ª—è—Ç–æ—Ä–æ–º)
  - API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏ –ø—Ä–∏–µ–º–∞ –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç–∏
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏—è –æ—Ç—á–µ—Ç–æ–≤
  - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–µ–≥—É–ª—è—Ç–æ—Ä–æ–º
  - –°–∏—Å—Ç–µ–º–∞ –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø—Ä–∏ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–∏
  - –ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–Ω—ã—Ö –æ—Ç—á–µ—Ç–æ–≤ —Å —Ü–∏—Ñ—Ä–æ–≤–æ–π –ø–æ–¥–ø–∏—Å—å—é
- **–°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø–æ –¥–µ–¥–ª–∞–π–Ω–∞–º** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ø—Ä–∏–±–ª–∏–∂–∞—é—â–∏—Ö—Å—è —Å—Ä–æ–∫–∞—Ö –ø–æ–¥–∞—á–∏ –æ—Ç—á–µ—Ç–æ–≤:
  - –°–µ—Ä–≤–∏—Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –∑–∞ 30/7/1 –¥–µ–Ω—å –¥–æ –¥–µ–¥–ª–∞–π–Ω–∞
  - Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ RUSENDER
  - Push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω—ã)
  - –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –ø–æ —Ç–∏–ø–∞–º –æ—Ç—á–µ—Ç–æ–≤
  - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∫–∞–ª–µ–Ω–¥–∞—Ä–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **CBAM –æ—Ç—á—ë—Ç—ã** ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è XML (EU 2023/1773), –∫–≤–∞—Ä—Ç–∞–ª—å–Ω—ã–µ –¥–µ–∫–ª–∞—Ä–∞—Ü–∏–∏, EORI, `lib/cbam-pricing.ts` (–±–µ–∑ –∞–≤—Ç–æ–ø–ª–∞—Ç–µ–∂–µ–π, —Ä—É—á–Ω–æ–π –¥–æ—Å—Ç—É–ø).
- **–£–≥–ª–µ—Ä–æ–¥–Ω—ã–π —Å–ª–µ–¥** ‚Äî –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä Scope 1/2/3, LCA, —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã ISO 14067, GHG Protocol.
- **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞** ‚Äî –∫–æ–Ω–≤–µ—Ä—Å–∏–æ–Ω–Ω—ã–µ –≤–æ—Ä–æ–Ω–∫–∏, A/B —Ç–µ—Å—Ç—ã, retention (—á–∞—Å—Ç–∏—á–Ω–æ –ø–æ–∫—Ä—ã—Ç–æ –≤ —Ä–∞–∑–¥–µ–ª–∞—Ö 6 –∏ 10, –º–æ–∂–Ω–æ –æ—Ç–ª–æ–∂–∏—Ç—å).
